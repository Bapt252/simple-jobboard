<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire candidat - Nexten</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .questionnaire-section {
            padding: 4rem 0;
        }
        
        .questionnaire-container {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-md);
            padding: 2.5rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .questionnaire-intro {
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .questionnaire-intro h3 {
            font-size: 1.4rem;
            color: var(--dark);
            margin-bottom: 1rem;
        }
        
        .questionnaire-intro p {
            color: var(--text);
        }
        
        .progress-bar-container {
            width: 100%;
            height: 8px;
            background-color: #f1f5f9;
            border-radius: 4px;
            margin-bottom: 2.5rem;
            overflow: hidden;
        }
        
        .progress-bar-fill {
            height: 100%;
            background-color: var(--primary);
            width: 10%;
            transition: width 0.3s ease;
        }
        
        .form-section {
            margin-bottom: 2.5rem;
            border-bottom: 1px solid #f1f5f9;
            padding-bottom: 2rem;
        }
        
        .form-section:last-child {
            margin-bottom: 0;
            border-bottom: none;
            padding-bottom: 0;
        }
        
        .form-section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
        }
        
        .form-section-title i {
            margin-right: 0.8rem;
            color: var(--primary);
        }
        
        .input-group {
            margin-bottom: 1.5rem;
        }
        
        .input-group:last-child {
            margin-bottom: 0;
        }
        
        .input-group label {
            display: block;
            font-weight: 500;
            color: var(--dark);
            margin-bottom: 0.5rem;
        }
        
        .input-group input,
        .input-group select,
        .input-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #e2e8f0;
            border-radius: var(--radius);
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .input-group input:focus,
        .input-group select:focus,
        .input-group textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.2);
        }
        
        .radio-group,
        .checkbox-group {
            margin-bottom: 0.8rem;
        }
        
        .radio-label,
        .checkbox-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            margin-bottom: 0.5rem;
        }
        
        .radio-input,
        .checkbox-input {
            margin-right: 0.8rem;
            width: 1.2rem;
            height: 1.2rem;
            accent-color: var(--primary);
        }
        
        .grid-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1rem;
        }
        
        .rangable-item {
            background-color: #f8fafc;
            border-radius: var(--radius);
            padding: 1rem;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            cursor: move;
        }
        
        .rangable-item:hover {
            background-color: #f1f5f9;
        }
        
        .range-number {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            margin-right: 1rem;
            font-weight: 500;
        }
        
        .rangable-text {
            font-weight: 500;
            color: var(--dark);
        }
        
        .form-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        
        .btn-back {
            background-color: transparent;
            color: var(--text);
            border: 1px solid #e2e8f0;
            padding: 0.8rem 1.5rem;
            border-radius: var(--radius);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-back:hover {
            background-color: #f8fafc;
        }
        
        .btn-next {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: var(--radius);
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .btn-next:hover {
            background-color: var(--primary-dark);
        }
        
        .form-tip {
            background-color: rgba(52, 152, 219, 0.1);
            border-left: 3px solid #3498db;
            padding: 0.8rem 1rem;
            border-radius: 0 var(--radius) var(--radius) 0;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: var(--text);
        }
        
        .form-tip i {
            color: #3498db;
            margin-right: 0.5rem;
        }
        
        .section-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
        }
        
        .indicator-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #e2e8f0;
            margin: 0 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .indicator-dot.active {
            background-color: var(--primary);
            transform: scale(1.3);
        }
        
        .input-suggestions {
            position: relative;
        }
        
        .suggestions-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: white;
            border: 1px solid #e2e8f0;
            border-top: none;
            border-radius: 0 0 var(--radius) var(--radius);
            max-height: 150px;
            overflow-y: auto;
            z-index: 10;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        
        .suggestion-item {
            padding: 0.6rem 0.8rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .suggestion-item:hover {
            background-color: #f8fafc;
        }
        
        .tag-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .tag {
            display: inline-flex;
            align-items: center;
            background-color: #f1f5f9;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .tag-remove {
            margin-left: 0.5rem;
            cursor: pointer;
            font-size: 0.8rem;
            color: var(--text);
        }
        
        .tag-remove:hover {
            color: #e74c3c;
        }
        
        .drag-instruction {
            font-size: 0.8rem;
            color: var(--text);
            text-align: center;
            margin-bottom: 1rem;
            font-style: italic;
        }
        
        .conditional-section {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px dashed #e2e8f0;
        }
        
        .hidden {
            display: none;
        }
        
        .upload-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
        }
        
        .upload-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 30%;
            text-align: center;
            position: relative;
        }
        
        .upload-step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 25px;
            right: -40%;
            width: 80%;
            height: 2px;
            background-color: #e2e8f0;
        }
        
        .step-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #f8fafc;
            border: 2px solid #e2e8f0;
            color: var(--text);
            font-weight: 600;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }
        
        .step-title {
            font-weight: 500;
            color: var(--text);
        }
        
        .upload-step.active .step-number {
            background-color: var(--primary);
            border-color: var(--primary);
            color: white;
        }
        
        .upload-step.active .step-title {
            color: var(--primary);
            font-weight: 600;
        }
        
        .upload-step.completed .step-number {
            background-color: var(--success);
            border-color: var(--success);
            color: white;
        }
        
        .upload-later-box {
            background-color: rgba(108, 99, 255, 0.05);
            border: 1px dashed var(--primary);
            border-radius: var(--radius);
            padding: 1rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
        }
        
        .upload-later-icon {
            font-size: 1.5rem;
            color: var(--primary);
            margin-right: 1rem;
        }
        
        .upload-later-text {
            flex-grow: 1;
            font-size: 0.95rem;
            color: var(--text);
        }
        
        .upload-later-link {
            color: var(--primary);
            font-weight: 500;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fas fa-briefcase"></i> Nexten</h1>
            <nav>
                <ul>
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="post-job.html">Publier une offre</a></li>
                    <li><a href="candidate-upload.html" class="active">Espace candidat</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="questionnaire-section">
        <div class="container">
            <div class="questionnaire-container">
                <div class="upload-steps">
                    <div class="upload-step" id="cvStep">
                        <div class="step-number"><i class="fas fa-file-alt"></i></div>
                        <div class="step-title">Upload CV</div>
                    </div>
                    <div class="upload-step active">
                        <div class="step-number">2</div>
                        <div class="step-title">Questionnaire</div>
                    </div>
                    <div class="upload-step">
                        <div class="step-number">3</div>
                        <div class="step-title">Matching</div>
                    </div>
                </div>
            
                <div class="questionnaire-intro">
                    <h3>Personnalisez vos recommandations d'emploi</h3>
                    <p>Répondez à ces questions pour nous aider à affiner notre algorithme et vous proposer les offres les plus pertinentes.</p>
                </div>
                
                <div class="upload-later-box" id="uploadLaterBox">
                    <div class="upload-later-icon">
                        <i class="fas fa-info-circle"></i>
                    </div>
                    <div class="upload-later-text">
                        Vous n'avez pas encore téléchargé votre CV. Vous pouvez continuer le questionnaire et <a href="candidate-upload.html" class="upload-later-link">télécharger votre CV plus tard</a>, mais le parsing de CV nous aide à mieux comprendre votre profil.
                    </div>
                </div>

                <div class="progress-bar-container">
                    <div class="progress-bar-fill" id="progressBar"></div>
                </div>
                
                <div class="section-indicator" id="sectionIndicator">
                    <div class="indicator-dot active" data-section="1"></div>
                    <div class="indicator-dot" data-section="2"></div>
                    <div class="indicator-dot" data-section="3"></div>
                    <div class="indicator-dot" data-section="4"></div>
                </div>

                <form id="candidateForm">
                    <!-- Section 1: Informations personnelles -->
                    <div class="form-section" id="section1">
                        <h4 class="form-section-title"><i class="fas fa-user"></i> Informations personnelles</h4>
                        
                        <div class="input-group">
                            <label for="fullName">Nom Prénom*</label>
                            <input type="text" id="fullName" required>
                        </div>
                        
                        <div class="input-group">
                            <label for="jobTitle">Intitulé de poste recherché*</label>
                            <div class="input-suggestions">
                                <input type="text" id="jobTitle" placeholder="Commencez à taper pour voir des suggestions..." required>
                                <div id="jobSuggestions" class="suggestions-list" style="display: none;">
                                    <div class="suggestion-item">Développeur Frontend</div>
                                    <div class="suggestion-item">Développeur React</div>
                                    <div class="suggestion-item">Développeur JavaScript</div>
                                    <div class="suggestion-item">Développeur Web</div>
                                </div>
                            </div>
                            <div class="tag-container" id="jobTitleTags"></div>
                            <small>Vous pouvez ajouter plusieurs intitulés de poste</small>
                        </div>
                        
                        <div class="input-group">
                            <label for="address">Adresse exacte (pour calculer les temps de trajet)*</label>
                            <input type="text" id="address" placeholder="Ex: 10 rue de la Paix, 75002 Paris" required>
                        </div>
                    </div>
                    
                    <!-- Section 2: Préférences de mobilité -->
                    <div class="form-section hidden" id="section2">
                        <h4 class="form-section-title"><i class="fas fa-map-marker-alt"></i> Préférences de mobilité</h4>
                        
                        <div class="input-group">
                            <label>Combien de temps de trajet êtes-vous prêt à faire (aller simple)?</label>
                            <div class="grid-options">
                                <div class="radio-label">
                                    <input type="radio" name="commuteTime" value="10" class="radio-input" id="commute10">
                                    <label for="commute10">10 minutes max</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="commuteTime" value="20" class="radio-input" id="commute20">
                                    <label for="commute20">20 minutes max</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="commuteTime" value="30" class="radio-input" id="commute30">
                                    <label for="commute30">30 minutes max</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="commuteTime" value="45" class="radio-input" id="commute45">
                                    <label for="commute45">45 minutes max</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="commuteTime" value="60" class="radio-input" id="commute60">
                                    <label for="commute60">1 heure max</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="commuteTime" value="90" class="radio-input" id="commute90">
                                    <label for="commute90">Plus d'1 heure</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>Comment vous déplacez-vous habituellement ? (plusieurs choix possibles)</label>
                            <div class="grid-options">
                                <div class="checkbox-label">
                                    <input type="checkbox" name="transportation" value="public" class="checkbox-input" id="transportPublic">
                                    <label for="transportPublic">Transports en commun</label>
                                </div>
                                <div class="checkbox-label">
                                    <input type="checkbox" name="transportation" value="car" class="checkbox-input" id="transportCar">
                                    <label for="transportCar">Véhicule personnel</label>
                                </div>
                                <div class="checkbox-label">
                                    <input type="checkbox" name="transportation" value="bike" class="checkbox-input" id="transportBike">
                                    <label for="transportBike">Vélo</label>
                                </div>
                                <div class="checkbox-label">
                                    <input type="checkbox" name="transportation" value="walk" class="checkbox-input" id="transportWalk">
                                    <label for="transportWalk">À pied</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Section 3: Préférences professionnelles -->
                    <div class="form-section hidden" id="section3">
                        <h4 class="form-section-title"><i class="fas fa-briefcase"></i> Préférences professionnelles</h4>
                        
                        <div class="input-group">
                            <label>Classez vos leviers de motivation par ordre d'importance</label>
                            <div class="form-tip">
                                <i class="fas fa-lightbulb"></i> Faites glisser les éléments pour les réordonner selon vos priorités.
                            </div>
                            <div class="drag-instruction">Glisser-déposer pour réordonner</div>
                            <div id="motivationFactors">
                                <div class="rangable-item" data-value="salary">
                                    <span class="range-number">1</span>
                                    <span class="rangable-text">Rémunération</span>
                                </div>
                                <div class="rangable-item" data-value="evolution">
                                    <span class="range-number">2</span>
                                    <span class="rangable-text">Perspectives d'évolution</span>
                                </div>
                                <div class="rangable-item" data-value="flexibility">
                                    <span class="range-number">3</span>
                                    <span class="rangable-text">Flexibilité (télétravail, horaires)</span>
                                </div>
                                <div class="rangable-item" data-value="location">
                                    <span class="range-number">4</span>
                                    <span class="rangable-text">Localisation</span>
                                </div>
                                <div class="rangable-item" data-value="other">
                                    <span class="range-number">5</span>
                                    <span class="rangable-text">Autre</span>
                                </div>
                            </div>
                            <div class="input-group" id="otherMotivationContainer" style="display: none; margin-top: 1rem;">
                                <label for="otherMotivation">Précisez votre autre levier de motivation</label>
                                <input type="text" id="otherMotivation">
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>Quel type de structure privilégiez-vous ? (plusieurs choix possibles)</label>
                            <div class="grid-options">
                                <div class="checkbox-label">
                                    <input type="checkbox" name="companyType" value="startup" class="checkbox-input" id="companyStartup">
                                    <label for="companyStartup">Start-up</label>
                                </div>
                                <div class="checkbox-label">
                                    <input type="checkbox" name="companyType" value="enterprise" class="checkbox-input" id="companyEnterprise">
                                    <label for="companyEnterprise">Grand groupe</label>
                                </div>
                                <div class="checkbox-label">
                                    <input type="checkbox" name="companyType" value="sme" class="checkbox-input" id="companySME">
                                    <label for="companySME">PME</label>
                                </div>
                                <div class="checkbox-label">
                                    <input type="checkbox" name="companyType" value="any" class="checkbox-input" id="companyAny">
                                    <label for="companyAny">Ça n'a pas d'importance</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>Préférez-vous un environnement de travail :</label>
                            <div class="grid-options">
                                <div class="radio-label">
                                    <input type="radio" name="workEnvironment" value="openspace" class="radio-input" id="envOpenSpace">
                                    <label for="envOpenSpace">Open Space</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="workEnvironment" value="office" class="radio-input" id="envOffice">
                                    <label for="envOffice">Bureau fermé</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="workEnvironment" value="any" class="radio-input" id="envAny">
                                    <label for="envAny">Pas de préférence</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>Avez-vous une préférence pour un secteur d'activité ?</label>
                            <div class="radio-label">
                                <input type="radio" name="sectorPreference" value="yes" class="radio-input" id="sectorYes">
                                <label for="sectorYes">Oui</label>
                            </div>
                            <div class="radio-label">
                                <input type="radio" name="sectorPreference" value="no" class="radio-input" id="sectorNo">
                                <label for="sectorNo">Non</label>
                            </div>
                            
                            <div class="conditional-section hidden" id="sectorPreferenceSection">
                                <label for="preferredSectors">Secteurs préférés (plusieurs choix possibles)</label>
                                <select id="preferredSectors" multiple size="5">
                                    <option value="tech">Informatique / Tech</option>
                                    <option value="finance">Finance / Banque / Assurance</option>
                                    <option value="healthcare">Santé / Pharmaceutique</option>
                                    <option value="retail">Commerce / Distribution</option>
                                    <option value="industry">Industrie / Production</option>
                                    <option value="education">Éducation / Formation</option>
                                    <option value="media">Médias / Communication</option>
                                    <option value="consulting">Conseil / Consulting</option>
                                    <option value="public">Secteur public</option>
                                    <option value="nonprofit">Associatif / ONG</option>
                                </select>
                                <small>Maintenez Ctrl (ou Cmd sur Mac) pour sélectionner plusieurs options</small>
                                
                                <div style="margin-top: 1rem;">
                                    <label>Avez-vous un secteur rédhibitoire ?</label>
                                    <div class="radio-label">
                                        <input type="radio" name="forbiddenSector" value="yes" class="radio-input" id="forbiddenYes">
                                        <label for="forbiddenYes">Oui</label>
                                    </div>
                                    <div class="radio-label">
                                        <input type="radio" name="forbiddenSector" value="no" class="radio-input" id="forbiddenNo">
                                        <label for="forbiddenNo">Non</label>
                                    </div>
                                    
                                    <div class="conditional-section hidden" id="forbiddenSectorSection">
                                        <label for="forbiddenSectors">Secteurs à éviter (plusieurs choix possibles)</label>
                                        <select id="forbiddenSectors" multiple size="5">
                                            <option value="tech">Informatique / Tech</option>
                                            <option value="finance">Finance / Banque / Assurance</option>
                                            <option value="healthcare">Santé / Pharmaceutique</option>
                                            <option value="retail">Commerce / Distribution</option>
                                            <option value="industry">Industrie / Production</option>
                                            <option value="education">Éducation / Formation</option>
                                            <option value="media">Médias / Communication</option>
                                            <option value="consulting">Conseil / Consulting</option>
                                            <option value="public">Secteur public</option>
                                            <option value="nonprofit">Associatif / ONG</option>
                                        </select>
                                        <small>Maintenez Ctrl (ou Cmd sur Mac) pour sélectionner plusieurs options</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Section 4: Situation professionnelle -->
                    <div class="form-section hidden" id="section4">
                        <h4 class="form-section-title"><i class="fas fa-chart-line"></i> Situation professionnelle</h4>
                        
                        <div class="input-group">
                            <label for="salary">Quelle est votre fourchette de rémunération souhaitée ? (brut annuel en €)</label>
                            <input type="text" id="salary" placeholder="Ex: 45000 - 55000">
                        </div>
                        
                        <div class="input-group">
                            <label>Quand recherchez-vous à prendre un poste ?</label>
                            <div class="grid-options">
                                <div class="radio-label">
                                    <input type="radio" name="availability" value="immediate" class="radio-input" id="availImmediate">
                                    <label for="availImmediate">Immédiatement</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="availability" value="1month" class="radio-input" id="avail1Month">
                                    <label for="avail1Month">Sous 1 mois</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="availability" value="2months" class="radio-input" id="avail2Months">
                                    <label for="avail2Months">Sous 2 mois</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="availability" value="3months" class="radio-input" id="avail3Months">
                                    <label for="avail3Months">Sous 3 mois</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>Êtes-vous actuellement en poste ?</label>
                            <div class="radio-label">
                                <input type="radio" name="currentlyEmployed" value="yes" class="radio-input" id="employedYes">
                                <label for="employedYes">Oui</label>
                            </div>
                            <div class="radio-label">
                                <input type="radio" name="currentlyEmployed" value="no" class="radio-input" id="employedNo">
                                <label for="employedNo">Non</label>
                            </div>
                            
                            <!-- Section conditionnelle pour les candidats en poste -->
                            <div class="conditional-section hidden" id="currentlyEmployedSection">
                                <label>Pourquoi êtes-vous de nouveau à l'écoute ?</label>
                                <div class="radio-label">
                                    <input type="radio" name="jobChangeReason" value="fulfillment" class="radio-input" id="reasonFulfillment">
                                    <label for="reasonFulfillment">Je ne m'épanouis plus, je souhaite découvrir de nouvelles choses</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="jobChangeReason" value="evolution" class="radio-input" id="reasonEvolution">
                                    <label for="reasonEvolution">Manque de perspectives d'évolutions</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="jobChangeReason" value="salary" class="radio-input" id="reasonSalary">
                                    <label for="reasonSalary">Rémunération trop faible</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="jobChangeReason" value="location" class="radio-input" id="reasonLocation">
                                    <label for="reasonLocation">Poste trop loin de mon domicile</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="jobChangeReason" value="flexibility" class="radio-input" id="reasonFlexibility">
                                    <label for="reasonFlexibility">Manque de flexibilité (pas de télétravail, RTT)</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="jobChangeReason" value="internal" class="radio-input" id="reasonInternal">
                                    <label for="reasonInternal">Problème en interne (organisation, management)</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="jobChangeReason" value="mismatch" class="radio-input" id="reasonMismatch">
                                    <label for="reasonMismatch">Le poste ne coïncide pas avec le poste proposé initialement</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="jobChangeReason" value="redundancy" class="radio-input" id="reasonRedundancy">
                                    <label for="reasonRedundancy">PSE (Plan de Sauvegarde de l'Emploi)</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="jobChangeReason" value="private" class="radio-input" id="reasonPrivate">
                                    <label for="reasonPrivate">Je ne souhaite pas communiquer</label>
                                </div>
                                
                                <div style="margin-top: 1rem;">
                                    <label>Combien de temps est votre préavis ?</label>
                                    <div class="grid-options">
                                        <div class="radio-label">
                                            <input type="radio" name="noticePeriod" value="none" class="radio-input" id="noticeNone">
                                            <label for="noticeNone">Je n'en ai pas</label>
                                        </div>
                                        <div class="radio-label">
                                            <input type="radio" name="noticePeriod" value="trial" class="radio-input" id="noticeTrial">
                                            <label for="noticeTrial">Encore en période d'essai</label>
                                        </div>
                                        <div class="radio-label">
                                            <input type="radio" name="noticePeriod" value="1month" class="radio-input" id="notice1Month">
                                            <label for="notice1Month">1 mois</label>
                                        </div>
                                        <div class="radio-label">
                                            <input type="radio" name="noticePeriod" value="2months" class="radio-input" id="notice2Months">
                                            <label for="notice2Months">2 mois</label>
                                        </div>
                                        <div class="radio-label">
                                            <input type="radio" name="noticePeriod" value="3months" class="radio-input" id="notice3Months">
                                            <label for="notice3Months">3 mois</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="margin-top: 1rem;">
                                    <label>Le préavis est-il négociable ?</label>
                                    <div class="grid-options">
                                        <div class="radio-label">
                                            <input type="radio" name="noticeNegotiable" value="yes" class="radio-input" id="negotiableYes">
                                            <label for="negotiableYes">Oui</label>
                                        </div>
                                        <div class="radio-label">
                                            <input type="radio" name="noticeNegotiable" value="no" class="radio-input" id="negotiableNo">
                                            <label for="negotiableNo">Non</label>
                                        </div>
                                        <div class="radio-label">
                                            <input type="radio" name="noticeNegotiable" value="unknown" class="radio-input" id="negotiableUnknown">
                                            <label for="negotiableUnknown">Je ne sais pas</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Section conditionnelle pour les candidats sans emploi -->
                            <div class="conditional-section hidden" id="notEmployedSection">
                                <label>Pourquoi votre dernier contrat s'est-il arrêté ?</label>
                                <div class="radio-label">
                                    <input type="radio" name="lastJobEndReason" value="fulfillment" class="radio-input" id="endReasonFulfillment">
                                    <label for="endReasonFulfillment">Je ne m'épanouissais plus, je souhaite découvrir de nouvelles choses</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="lastJobEndReason" value="evolution" class="radio-input" id="endReasonEvolution">
                                    <label for="endReasonEvolution">Manque de perspectives d'évolutions</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="lastJobEndReason" value="salary" class="radio-input" id="endReasonSalary">
                                    <label for="endReasonSalary">Rémunération trop faible</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="lastJobEndReason" value="location" class="radio-input" id="endReasonLocation">
                                    <label for="endReasonLocation">Poste trop loin de mon domicile</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="lastJobEndReason" value="flexibility" class="radio-input" id="endReasonFlexibility">
                                    <label for="endReasonFlexibility">Manque de flexibilité (pas de télétravail, RTT)</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="lastJobEndReason" value="internal" class="radio-input" id="endReasonInternal">
                                    <label for="endReasonInternal">Problème en interne (organisation, management)</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="lastJobEndReason" value="mismatch" class="radio-input" id="endReasonMismatch">
                                    <label for="endReasonMismatch">Le poste ne coïncidait pas avec le poste proposé initialement</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="lastJobEndReason" value="redundancy" class="radio-input" id="endReasonRedundancy">
                                    <label for="endReasonRedundancy">PSE (Plan de Sauvegarde de l'Emploi)</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="lastJobEndReason" value="private" class="radio-input" id="endReasonPrivate">
                                    <label for="endReasonPrivate">Je ne souhaite pas communiquer</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>Où en êtes-vous dans vos processus de recrutement ?</label>
                            <div class="grid-options">
                                <div class="radio-label">
                                    <input type="radio" name="recruitmentStatus" value="noLeads" class="radio-input" id="statusNoLeads">
                                    <label for="statusNoLeads">Je n'ai pas encore de piste</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="recruitmentStatus" value="inProgress" class="radio-input" id="statusInProgress">
                                    <label for="statusInProgress">J'avance sur différents entretiens</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="recruitmentStatus" value="finalStage" class="radio-input" id="statusFinalStage">
                                    <label for="statusFinalStage">Je suis en processus final</label>
                                </div>
                                <div class="radio-label">
                                    <input type="radio" name="recruitmentStatus" value="offers" class="radio-input" id="statusOffers">
                                    <label for="statusOffers">On m'a fait des propositions</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="button" class="btn-back" id="backButton">Retour</button>
                        <button type="button" class="btn-next" id="nextButton">Suivant</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 Nexten - Tous droits réservés</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Vérifier si le CV a été téléchargé
            function checkCVUploadStatus() {
                // Simuler que le CV n'a pas été téléchargé
                // En production, cela serait vérifié via une session ou un cookie
                const cvUploaded = false;
                const uploadLaterBox = document.getElementById('uploadLaterBox');
                const cvStep = document.getElementById('cvStep');
                
                if (cvUploaded) {
                    // Si le CV a été téléchargé, marquer l'étape comme complétée
                    uploadLaterBox.style.display = 'none';
                    cvStep.classList.add('completed');
                } else {
                    // Si le CV n'a pas été téléchargé, afficher la notification
                    uploadLaterBox.style.display = 'flex';
                    cvStep.classList.remove('completed');
                }
            }
            
            checkCVUploadStatus();
            
            // Variables de navigation
            let currentSection = 1;
            const totalSections = 4;
            const progressBar = document.getElementById('progressBar');
            const backButton = document.getElementById('backButton');
            const nextButton = document.getElementById('nextButton');
            const sectionIndicators = document.querySelectorAll('.indicator-dot');
            
            // Initialisation
            updateProgressBar();
            updateButtons();
            
            // Gestion des événements du formulaire
            document.querySelectorAll('[name="sectorPreference"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const sectorSection = document.getElementById('sectorPreferenceSection');
                    if (this.value === 'yes') {
                        sectorSection.classList.remove('hidden');
                    } else {
                        sectorSection.classList.add('hidden');
                    }
                });
            });
            
            document.querySelectorAll('[name="forbiddenSector"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const forbiddenSection = document.getElementById('forbiddenSectorSection');
                    if (this.value === 'yes') {
                        forbiddenSection.classList.remove('hidden');
                    } else {
                        forbiddenSection.classList.add('hidden');
                    }
                });
            });
            
            document.querySelectorAll('[name="currentlyEmployed"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const employedSection = document.getElementById('currentlyEmployedSection');
                    const notEmployedSection = document.getElementById('notEmployedSection');
                    
                    if (this.value === 'yes') {
                        employedSection.classList.remove('hidden');
                        notEmployedSection.classList.add('hidden');
                    } else {
                        employedSection.classList.add('hidden');
                        notEmployedSection.classList.remove('hidden');
                    }
                });
            });
            
            // Navigation
            backButton.addEventListener('click', function() {
                if (currentSection > 1) {
                    showSection(currentSection - 1);
                }
            });
            
            nextButton.addEventListener('click', function() {
                if (currentSection < totalSections) {
                    showSection(currentSection + 1);
                } else {
                    // Formulaire terminé, rediriger vers les matches
                    // Simuler une soumission de formulaire
                    submitForm();
                }
            });
            
            sectionIndicators.forEach(dot => {
                dot.addEventListener('click', function() {
                    const sectionNumber = parseInt(this.getAttribute('data-section'));
                    showSection(sectionNumber);
                });
            });
            
            // Fonction pour changer de section
            function showSection(sectionNumber) {
                // Masquer la section actuelle
                document.getElementById(`section${currentSection}`).classList.add('hidden');
                // Afficher la nouvelle section
                document.getElementById(`section${sectionNumber}`).classList.remove('hidden');
                // Mettre à jour la section actuelle
                currentSection = sectionNumber;
                // Mettre à jour la barre de progression
                updateProgressBar();
                // Mettre à jour les indicateurs
                updateSectionIndicators();
                // Mettre à jour les boutons
                updateButtons();
                // Défiler vers le haut de la section
                document.querySelector('.questionnaire-container').scrollIntoView({ behavior: 'smooth' });
            }
            
            // Fonction pour mettre à jour la barre de progression
            function updateProgressBar() {
                const progress = (currentSection / totalSections) * 100;
                progressBar.style.width = `${progress}%`;
            }
            
            // Fonction pour mettre à jour les indicateurs de section
            function updateSectionIndicators() {
                sectionIndicators.forEach(dot => {
                    const sectionNumber = parseInt(dot.getAttribute('data-section'));
                    if (sectionNumber === currentSection) {
                        dot.classList.add('active');
                    } else {
                        dot.classList.remove('active');
                    }
                });
            }
            
            // Fonction pour mettre à jour les boutons
            function updateButtons() {
                // Masquer le bouton Retour à la première section
                backButton.style.display = currentSection === 1 ? 'none' : 'block';
                
                // Changer le texte du bouton Suivant à la dernière section
                nextButton.textContent = currentSection === totalSections ? 'Terminer' : 'Suivant';
            }
            
            // Fonction pour soumettre le formulaire
            function submitForm() {
                nextButton.textContent = 'Traitement en cours...';
                nextButton.disabled = true;
                
                // Simuler un délai de traitement
                setTimeout(() => {
                    // Rediriger vers la page des matches
                    window.location.href = 'candidate-matches.html';
                }, 1500);
            }
            
            // Gestion des suggestions d'intitulé de poste
            const jobTitleInput = document.getElementById('jobTitle');
            const jobSuggestions = document.getElementById('jobSuggestions');
            const jobTitleTags = document.getElementById('jobTitleTags');
            const addedJobTitles = new Set();
            
            jobTitleInput.addEventListener('input', function() {
                if (this.value.length >= 2) {
                    jobSuggestions.style.display = 'block';
                    // Simuler le filtrage des suggestions
                    const suggestions = document.querySelectorAll('.suggestion-item');
                    suggestions.forEach(suggestion => {
                        if (suggestion.textContent.toLowerCase().includes(this.value.toLowerCase())) {
                            suggestion.style.display = 'block';
                        } else {
                            suggestion.style.display = 'none';
                        }
                    });
                } else {
                    jobSuggestions.style.display = 'none';
                }
            });
            
            document.querySelectorAll('.suggestion-item').forEach(item => {
                item.addEventListener('click', function() {
                    const value = this.textContent;
                    addJobTitleTag(value);
                    jobTitleInput.value = '';
                    jobSuggestions.style.display = 'none';
                });
            });
            
            jobTitleInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && this.value.trim().length > 0) {
                    e.preventDefault();
                    addJobTitleTag(this.value.trim());
                    this.value = '';
                }
            });
            
            function addJobTitleTag(value) {
                if (addedJobTitles.has(value)) return;
                
                addedJobTitles.add(value);
                
                const tag = document.createElement('div');
                tag.className = 'tag';
                tag.innerHTML = `${value} <span class="tag-remove" data-value="${value}">&times;</span>`;
                jobTitleTags.appendChild(tag);
                
                tag.querySelector('.tag-remove').addEventListener('click', function() {
                    const value = this.getAttribute('data-value');
                    addedJobTitles.delete(value);
                    tag.remove();
                });
            }
            
            // Simulation de drag and drop pour le classement des motivations
            const motivationFactors = document.getElementById('motivationFactors');
            let draggedItem = null;
            
            // Vérifier si le dernier élément est "Autre" et afficher le champ de saisie si nécessaire
            function checkOtherMotivation() {
                const items = motivationFactors.querySelectorAll('.rangable-item');
                const lastItem = items[items.length - 1];
                const otherContainer = document.getElementById('otherMotivationContainer');
                
                if (lastItem && lastItem.getAttribute('data-value') === 'other') {
                    otherContainer.style.display = 'block';
                } else {
                    otherContainer.style.display = 'none';
                }
            }
            
            // Initialiser les événements de drag and drop
            document.querySelectorAll('.rangable-item').forEach((item, index) => {
                item.setAttribute('draggable', true);
                
                item.addEventListener('dragstart', function() {
                    draggedItem = this;
                    setTimeout(() => this.style.opacity = '0.5', 0);
                });
                
                item.addEventListener('dragend', function() {
                    this.style.opacity = '1';
                    draggedItem = null;
                    updateRankNumbers();
                    checkOtherMotivation();
                });
                
                item.addEventListener('dragover', function(e) {
                    e.preventDefault();
                });
                
                item.addEventListener('dragenter', function(e) {
                    e.preventDefault();
                    this.classList.add('over');
                });
                
                item.addEventListener('dragleave', function() {
                    this.classList.remove('over');
                });
                
                item.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('over');
                    
                    if (draggedItem !== this) {
                        const allItems = Array.from(motivationFactors.querySelectorAll('.rangable-item'));
                        const draggedIndex = allItems.indexOf(draggedItem);
                        const droppedIndex = allItems.indexOf(this);
                        
                        if (draggedIndex < droppedIndex) {
                            this.parentNode.insertBefore(draggedItem, this.nextSibling);
                        } else {
                            this.parentNode.insertBefore(draggedItem, this);
                        }
                    }
                });
            });
            
            // Mettre à jour les numéros de rang
            function updateRankNumbers() {
                const items = motivationFactors.querySelectorAll('.rangable-item');
                items.forEach((item, index) => {
                    const rankNumber = item.querySelector('.range-number');
                    rankNumber.textContent = index + 1;
                });
            }
        });
    </script>
</body>
</html>