<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire Recruteur - Nexten</title>
    <link rel="stylesheet" href="../styles/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&libraries=places&callback=initAutocomplete" defer></script>
    <style>
        /* Styles principaux modernisés */
        .questionnaire-section {
            padding: 4rem 0;
            background-color: var(--gray);
        }
        
        .questionnaire-container {
            background-color: white;
            padding: 2.5rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow-md);
            max-width: 800px;
            margin: 0 auto;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
        
        .questionnaire-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                rgba(108, 99, 255, 0.03) 0%,
                rgba(0, 194, 203, 0.03) 25%,
                rgba(108, 99, 255, 0.03) 50%,
                rgba(0, 194, 203, 0.03) 75%,
                rgba(108, 99, 255, 0.03) 100%
            );
            transform: rotate(30deg);
            z-index: 0;
        }
        
        .questionnaire-container > * {
            position: relative;
            z-index: 1;
        }
        
        .section-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }
        
        .section-title::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -10px;
            width: 40%;
            height: 3px;
            background: var(--primary);
            border-radius: 10px;
        }
        
        .section-description {
            color: var(--text);
            font-size: 1.1rem;
            margin-bottom: 2.5rem;
        }
        
        /* Stepper modernisé */
        .stepper {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3rem;
            position: relative;
            z-index: 1;
        }
        
        .stepper::before {
            content: '';
            position: absolute;
            height: 3px;
            background-color: #e2e8f0;
            width: 100%;
            top: 25px;
            z-index: -1;
        }
        
        .stepper::after {
            content: '';
            position: absolute;
            height: 3px;
            background-color: var(--primary);
            width: 0%;
            top: 25px;
            z-index: -1;
            transition: width 0.5s ease;
        }
        
        .stepper.step1::after {
            width: 0%;
        }
        
        .stepper.step2::after {
            width: 33.3%;
        }
        
        .stepper.step3::after {
            width: 66.6%;
        }
        
        .stepper.step4::after {
            width: 100%;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 1;
        }
        
        .step-circle {
            width: 50px;
            height: 50px;
            background-color: white;
            border: 3px solid #e2e8f0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--text);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .step-text {
            font-weight: 500;
            color: var(--text);
            transition: all 0.3s ease;
        }
        
        .step.active .step-circle {
            border-color: var(--primary);
            color: white;
            box-shadow: 0 0 0 5px rgba(108, 99, 255, 0.2);
        }
        
        .step.active .step-circle::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: var(--primary);
            z-index: -1;
            animation: circleAnim 0.5s forwards;
        }
        
        .step.active .step-text {
            color: var(--primary);
            font-weight: 600;
        }
        
        .step.completed .step-circle {
            background-color: var(--primary);
            border-color: var(--primary);
            color: white;
        }
        
        .step.completed .step-circle i {
            animation: fadeIn 0.5s forwards;
        }
        
        /* Styles des questions et formulaires */
        .question-container {
            display: none;
            animation: fadeIn 0.5s forwards;
        }
        
        .question-container.active {
            display: block;
        }
        
        .question-header {
            margin-bottom: 2rem;
        }
        
        .question-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.8rem;
        }
        
        .question-description {
            color: var(--text);
            font-size: 1.05rem;
            line-height: 1.5;
        }
        
        .form-group {
            margin-bottom: 1.8rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.7rem;
            font-weight: 500;
            color: var(--dark);
            position: relative;
        }
        
        .label-required::after {
            content: '*';
            color: var(--primary);
            margin-left: 4px;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.9rem;
            border: 1px solid #e2e8f0;
            border-radius: var(--radius);
            font-size: 1rem;
            transition: all 0.3s ease;
            background-color: var(--light);
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .form-divider {
            margin: 2rem 0;
            border-top: 1px solid #e2e8f0;
            position: relative;
        }
        
        .divider-text {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background-color: white;
            padding: 0 15px;
            font-weight: 600;
            color: var(--primary);
            font-size: 0.95rem;
        }
        
        /* Checkbox modernisés */
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            position: relative;
        }
        
        .custom-checkbox {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }
        
        .checkmark {
            position: relative;
            height: 22px;
            width: 22px;
            background-color: #e2e8f0;
            border-radius: 4px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }
        
        .checkbox-item:hover input ~ .checkmark {
            background-color: #d1d5db;
        }
        
        .checkbox-item input:checked ~ .checkmark {
            background-color: var(--primary);
        }
        
        .checkmark:after {
            content: '';
            position: absolute;
            display: none;
            width: 6px;
            height: 12px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        
        .checkbox-item input:checked ~ .checkmark:after {
            display: block;
        }
        
        .checkbox-label {
            font-size: 0.95rem;
            color: var(--dark);
            cursor: pointer;
        }
        
        /* Radio buttons */
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.8rem;
        }
        
        .radio-item {
            display: flex;
            align-items: center;
            position: relative;
            padding: 0.8rem 1rem;
            border: 1px solid #e2e8f0;
            border-radius: var(--radius);
            transition: all 0.3s ease;
        }
        
        .radio-item:hover {
            border-color: var(--primary);
            background-color: rgba(108, 99, 255, 0.05);
            transform: translateY(-2px);
        }
        
        .custom-radio {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }
        
        .radio-checkmark {
            position: relative;
            height: 22px;
            width: 22px;
            background-color: #e2e8f0;
            border-radius: 50%;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }
        
        .radio-item input:checked ~ .radio-checkmark {
            background-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.2);
        }
        
        .radio-checkmark:after {
            content: '';
            position: absolute;
            display: none;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: white;
        }
        
        .radio-item input:checked ~ .radio-checkmark:after {
            display: block;
        }
        
        .radio-content {
            display: flex;
            flex-direction: column;
        }
        
        .radio-label {
            font-weight: 500;
            color: var(--dark);
            margin-bottom: 0.2rem;
        }
        
        .radio-description {
            font-size: 0.9rem;
            color: var(--text);
        }
        
        /* Info tips */
        .info-tip {
            background-color: rgba(52, 152, 219, 0.1);
            border-left: 3px solid #3498db;
            padding: 1rem;
            border-radius: 0 var(--radius) var(--radius) 0;
            margin-bottom: 2rem;
            display: flex;
            align-items: flex-start;
        }
        
        .info-tip i {
            color: #3498db;
            margin-right: 0.8rem;
            font-size: 1.2rem;
            margin-top: 0.2rem;
        }
        
        .info-tip-content {
            flex: 1;
        }
        
        .info-tip-title {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.5rem;
        }
        
        .info-tip-text {
            color: var(--text);
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .ai-badge {
            display: inline-flex;
            align-items: center;
            background-color: rgba(108, 99, 255, 0.1);
            color: var(--primary);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 500;
            margin-bottom: 1rem;
        }
        
        .ai-badge i {
            margin-right: 0.5rem;
        }
        
        /* Conditional section */
        .conditional-section {
            padding: 1.5rem;
            background-color: #f8fafc;
            border-radius: var(--radius);
            margin-bottom: 2rem;
            border-left: 3px solid var(--primary);
            animation: fadeIn 0.5s forwards;
            display: none;
        }
        
        .conditional-section.active {
            display: block;
        }

        /* Job description parser */
        .upload-area {
            border: 2px dashed #e2e8f0;
            border-radius: var(--radius);
            padding: 2.5rem;
            text-align: center;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
            background-color: rgba(108, 99, 255, 0.03);
            position: relative;
        }
        
        .upload-area:hover {
            border-color: var(--primary);
            background-color: rgba(108, 99, 255, 0.05);
            transform: translateY(-5px);
        }
        
        .upload-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            transition: transform 0.3s ease;
        }
        
        .upload-area:hover .upload-icon {
            transform: translateY(-10px);
        }
        
        .upload-area h4 {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.8rem;
        }
        
        .upload-area p {
            color: var(--text);
            margin-bottom: 1rem;
        }
        
        .upload-area .formats {
            font-size: 0.9rem;
            color: var(--text);
            opacity: 0.7;
        }
        
        .browse-text {
            color: var(--primary);
            text-decoration: underline;
            font-weight: 500;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .browse-text:hover {
            color: var(--primary-dark);
        }
        
        .hide-input {
            display: none;
        }
        
        .file-info {
            display: none;
            background-color: rgba(108, 99, 255, 0.1);
            padding: 1rem;
            border-radius: var(--radius);
            margin: 1rem 0;
            animation: fadeIn 0.5s forwards;
        }
        
        .file-name {
            display: flex;
            align-items: center;
            font-weight: 600;
            color: var(--dark);
        }
        
        .file-name i {
            color: var(--primary);
            margin-right: 0.7rem;
        }
        
        .parsed-container {
            display: none;
            animation: fadeIn 0.5s forwards;
            margin: 1.5rem 0;
        }
        
        .parsed-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 1rem;
        }
        
        .parsed-section {
            background-color: #f8fafc;
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 3px solid var(--primary);
            animation: slideInRight 0.5s forwards;
        }
        
        .parsed-item {
            display: flex;
            margin-bottom: 0.8rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px dashed #e2e8f0;
        }
        
        .parsed-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .parsed-label {
            font-weight: 500;
            width: 140px;
            color: var(--primary-dark);
        }
        
        .parsed-value {
            flex: 1;
            color: var(--dark);
        }
        
        .parsing-progress {
            height: 8px;
            background-color: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 1.5rem 0;
        }
        
        .parsing-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            width: 0%;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .option-buttons {
            display: flex;
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .option-button {
            flex: 1;
            padding: 0.9rem 1.5rem;
            border-radius: var(--radius);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .option-button-primary {
            background-color: var(--primary);
            color: white;
            border: none;
            box-shadow: 0 4px 10px rgba(108, 99, 255, 0.3);
        }
        
        .option-button-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(108, 99, 255, 0.4);
        }
        
        .option-button-secondary {
            background-color: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .option-button-secondary:hover {
            background-color: rgba(108, 99, 255, 0.1);
            transform: translateY(-3px);
        }
        
        /* Boutons navigation */
        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2.5rem;
        }
        
        .nav-btn {
            padding: 0.9rem 1.8rem;
            border-radius: 30px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 120px;
        }
        
        .btn-prev {
            background-color: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-prev:hover {
            background-color: rgba(108, 99, 255, 0.1);
            transform: translateY(-3px);
        }
        
        .btn-prev i {
            margin-right: 0.5rem;
        }
        
        .btn-next, .btn-submit {
            background-color: var(--primary);
            color: white;
            border: none;
            box-shadow: 0 4px 10px rgba(108, 99, 255, 0.3);
        }
        
        .btn-next:hover, .btn-submit:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(108, 99, 255, 0.4);
        }
        
        .btn-next i, .btn-submit i {
            margin-left: 0.5rem;
        }
        
        /* Summary section */
        .summary-section {
            margin-top: 1.5rem;
        }
        
        .summary-block {
            background-color: #f8fafc;
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 3px solid var(--primary);
        }
        
        .summary-title {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        
        .summary-title i {
            color: var(--primary);
            margin-right: 0.5rem;
        }
        
        .summary-item {
            display: flex;
            margin-bottom: 0.8rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px dashed #e2e8f0;
        }
        
        .summary-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .summary-label {
            font-weight: 500;
            width: 180px;
            color: var(--primary-dark);
            flex-shrink: 0;
        }
        
        .summary-value {
            color: var(--dark);
            flex: 1;
        }
        
        .summary-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .summary-tag {
            background-color: rgba(108, 99, 255, 0.1);
            color: var(--primary);
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        /* Boîte de confirmation pour redirection */
        .confirmation-dialog {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .confirmation-dialog.active {
            opacity: 1;
            visibility: visible;
        }
        
        .confirmation-content {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            padding: 2rem;
            width: 90%;
            max-width: 500px;
            text-align: center;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        
        .confirmation-dialog.active .confirmation-content {
            transform: translateY(0);
        }
        
        .confirmation-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .confirmation-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 1rem;
        }
        
        .confirmation-text {
            color: var(--text);
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }
        
        .confirmation-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }
        
        .confirmation-btn {
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-cancel {
            background-color: white;
            color: var(--dark);
            border: 1px solid #e2e8f0;
        }
        
        .btn-cancel:hover {
            background-color: #f8fafc;
        }
        
        .btn-confirm {
            background-color: var(--primary);
            color: white;
            border: none;
            box-shadow: 0 4px 10px rgba(108, 99, 255, 0.3);
        }
        
        .btn-confirm:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(108, 99, 255, 0.4);
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes circleAnim {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .questionnaire-section {
                padding: 3rem 0;
            }
            
            .questionnaire-container {
                padding: 1.5rem;
            }
            
            .stepper {
                margin-bottom: 2rem;
            }
            
            .step-circle {
                width: 40px;
                height: 40px;
                font-size: 0.9rem;
            }
            
            .step-text {
                font-size: 0.8rem;
            }
            
            .checkbox-group {
                grid-template-columns: 1fr;
            }
            
            .summary-item {
                flex-direction: column;
            }
            
            .summary-label {
                width: 100%;
                margin-bottom: 0.5rem;
            }
            
            .form-navigation {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-btn {
                width: 100%;
            }
            
            .option-buttons {
                flex-direction: column;
            }
            
            .confirmation-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fas fa-briefcase"></i> Nexten</h1>
            <nav>
                <ul>
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="post-job.html" class="active">Publier une offre</a></li>
                    <li><a href="candidate-upload.html">Espace candidat</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="questionnaire-section">
        <div class="container">
            <h2 class="section-title">Questionnaire recruteur</h2>
            <p class="section-description">Afin d'optimiser le matching avec les candidats, veuillez nous fournir plus de détails sur votre structure et vos besoins.</p>
            
            <div class="questionnaire-container">
                <div class="stepper step1">
                    <div class="step active">
                        <div class="step-circle">1</div>
                        <div class="step-text">Entreprise</div>
                    </div>
                    <div class="step">
                        <div class="step-circle">2</div>
                        <div class="step-text">Fiche de poste</div>
                    </div>
                    <div class="step">
                        <div class="step-circle">3</div>
                        <div class="step-text">Détails</div>
                    </div>
                    <div class="step">
                        <div class="step-circle">4</div>
                        <div class="step-text">Résumé</div>
                    </div>
                </div>
                
                <form id="recruiter-form">
                    <!-- Question 1: Informations sur l'entreprise -->
                    <div class="question-container active" id="question1">
                        <div class="question-header">
                            <h3 class="question-title">Informations sur votre structure</h3>
                            <p class="question-description">Ces informations nous permettront de mieux comprendre votre organisation et de présenter votre entreprise aux candidats.</p>
                        </div>
                        
                        <div class="info-tip">
                            <i class="fas fa-lightbulb"></i>
                            <div class="info-tip-content">
                                <div class="info-tip-title">Conseil</div>
                                <p class="info-tip-text">Une description précise de votre entreprise permet aux candidats de mieux comprendre votre culture et votre environnement de travail, ce qui améliore la qualité des candidatures.</p>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="company-name" class="label-required">Nom de la structure</label>
                            <input type="text" id="company-name" placeholder="Ex: TechSolutions" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="company-address" class="label-required">Adresse complète</label>
                            <input type="text" id="company-address" placeholder="Ex: 123 Avenue des Champs-Élysées, 75008 Paris" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="company-website">Site internet</label>
                            <input type="url" id="company-website" placeholder="Ex: https://www.example.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="company-description" class="label-required">Présentation rapide</label>
                            <textarea id="company-description" rows="5" placeholder="Décrivez brièvement votre entreprise, son activité et sa mission..." required></textarea>
                            <div class="ai-badge" id="generate-description" style="margin-top: 0.5rem; cursor: pointer;">
                                <i class="fas fa-magic"></i> Générer une description
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="company-size" class="label-required">Taille de structure</label>
                            <select id="company-size" required>
                                <option value="">Sélectionnez une option</option>
                                <option value="startup">Startup (moins de 10 employés)</option>
                                <option value="tpe">TPE (moins de 20 employés)</option>
                                <option value="pme">PME (20 à 250 employés)</option>
                                <option value="eti">ETI (250 à 5000 employés)</option>
                                <option value="grand-groupe">Grand groupe (plus de 5000 employés)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="has-position" class="label-required">Avez-vous un poste sur lequel vous souhaitez recruter ?</label>
                            <div class="radio-group">
                                <label class="radio-item">
                                    <input type="radio" name="has-position" value="yes" class="custom-radio" required>
                                    <span class="radio-checkmark"></span>
                                    <div class="radio-content">
                                        <span class="radio-label">Oui</span>
                                        <span class="radio-description">Je souhaite publier une offre d'emploi spécifique</span>
                                    </div>
                                </label>
                                <label class="radio-item">
                                    <input type="radio" name="has-position" value="no" class="custom-radio">
                                    <span class="radio-checkmark"></span>
                                    <div class="radio-content">
                                        <span class="radio-label">Non</span>
                                        <span class="radio-description">Je souhaite juste explorer les profils disponibles</span>
                                    </div>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-navigation">
                            <div></div> <!-- Espace vide pour l'alignement -->
                            <button type="button" class="nav-btn btn-next" id="next1">Suivant <i class="fas fa-arrow-right"></i></button>
                        </div>
                    </div>
                    
                    <!-- Question 2: Parsing de fiche de poste -->
                    <div class="question-container" id="question2">
                        <div class="question-header">
                            <h3 class="question-title">Fiche de poste</h3>
                            <p class="question-description">Si vous avez déjà une fiche de poste, vous pouvez la télécharger ici. Notre IA analysera automatiquement son contenu pour préremplir les informations du poste.</p>
                        </div>
                        
                        <div id="job-description-parser" class="conditional-section active">
                            <div class="info-tip">
                                <i class="fas fa-robot"></i>
                                <div class="info-tip-content">
                                    <div class="info-tip-title">Analyse automatique</div>
                                    <p class="info-tip-text">Notre IA va analyser votre fiche de poste pour extraire automatiquement le titre, les compétences requises, la description et d'autres informations clés. Vous pourrez ensuite vérifier et compléter ces informations.</p>
                                </div>
                            </div>
                            
                            <div class="upload-area" id="upload-area">
                                <i class="fas fa-file-upload upload-icon"></i>
                                <h4>Téléchargez votre fiche de poste</h4>
                                <p>Glissez votre fichier ici ou <span class="browse-text">parcourez vos fichiers</span></p>
                                <p class="formats">Formats acceptés : PDF, DOCX, DOC, TXT</p>
                                <input type="file" id="job-description-file" class="hide-input" accept=".pdf,.docx,.doc,.txt">
                            </div>
                            
                            <div class="file-info" id="file-info">
                                <div class="file-name"><i class="fas fa-file-alt"></i> <span id="file-name">job_description.pdf</span></div>
                            </div>
                            
                            <div class="parsing-progress" id="parsing-progress" style="display: none;">
                                <div class="parsing-progress-fill" id="parsing-progress-fill"></div>
                            </div>
                            
                            <div class="parsed-container" id="parsed-container">
                                <h4 class="parsed-title">Informations extraites de votre fiche de poste</h4>
                                
                                <div class="parsed-section">
                                    <div class="parsed-item">
                                        <div class="parsed-label">Titre du poste :</div>
                                        <div class="parsed-value" id="parsed-title">Développeur Frontend Senior</div>
                                    </div>
                                    <div class="parsed-item">
                                        <div class="parsed-label">Lieu :</div>
                                        <div class="parsed-value" id="parsed-location">Paris, France</div>
                                    </div>
                                    <div class="parsed-item">
                                        <div class="parsed-label">Type de contrat :</div>
                                        <div class="parsed-value" id="parsed-contract-type">CDI</div>
                                    </div>
                                    <div class="parsed-item">
                                        <div class="parsed-label">Expérience :</div>
                                        <div class="parsed-value" id="parsed-experience">3-5 ans</div>
                                    </div>
                                </div>
                                
                                <div class="parsed-section">
                                    <div class="parsed-item">
                                        <div class="parsed-label">Compétences :</div>
                                        <div class="parsed-value" id="parsed-skills">
                                            <div class="summary-tags">
                                                <span class="summary-tag">JavaScript</span>
                                                <span class="summary-tag">React</span>
                                                <span class="summary-tag">TypeScript</span>
                                                <span class="summary-tag">HTML/CSS</span>
                                                <span class="summary-tag">Git</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="parsed-section">
                                    <div class="parsed-item">
                                        <div class="parsed-label">Description :</div>
                                        <div class="parsed-value" id="parsed-description">
                                            Nous recherchons un développeur Frontend expérimenté pour rejoindre notre équipe produit. Le candidat idéal aura une solide expérience avec React et TypeScript et sera passionné par la création d'interfaces utilisateur performantes et intuitives.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="option-buttons" id="parser-buttons">
                                <button type="button" class="option-button option-button-primary" id="use-parsed-data">Utiliser ces informations</button>
                                <button type="button" class="option-button option-button-secondary" id="manual-entry">Saisir manuellement</button>
                            </div>
                            
                            <div class="form-navigation">
                                <button type="button" class="nav-btn btn-prev" id="prev2"><i class="fas fa-arrow-left"></i> Précédent</button>
                                <button type="button" class="nav-btn btn-next" id="next2">Suivant <i class="fas fa-arrow-right"></i></button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Question 3: Informations sur le poste -->
                    <div class="question-container" id="question3">
                        <div class="question-header">
                            <h3 class="question-title">Détails du poste</h3>
                            <p class="question-description">Précisez les détails du poste pour lequel vous recrutez. Ces informations sont essentielles pour trouver les meilleurs candidats.</p>
                        </div>
                        
                        <div id="position-details" class="conditional-section active">
                            <div class="form-group">
                                <label for="job-title" class="label-required">Titre du poste</label>
                                <input type="text" id="job-title" placeholder="Ex: Développeur Frontend" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="required-skills">Compétences techniques requises</label>
                                <div class="info-card" style="margin-bottom: 0.8rem;">
                                    <div style="display: flex; align-items: flex-start;">
                                        <i class="fas fa-robot" style="color: var(--primary); margin-right: 0.8rem; margin-top: 0.2rem;"></i>
                                        <div>
                                            <p style="color: var(--text); font-size: 0.9rem;">
                                                Précisez le niveau requis pour chaque compétence afin d'améliorer la qualité du matching avec les candidats.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="skills-container" style="margin-bottom: 1rem;">
                                    <div class="skill-item" style="display: flex; align-items: center; margin-bottom: 0.8rem; padding: 0.8rem; background-color: #f8fafc; border-radius: var(--radius);">
                                        <div style="flex: 1;">
                                            <input type="text" class="form-control skill-name" placeholder="Nom de la compétence" style="margin-bottom: 0.5rem;">
                                            <select class="form-control skill-level">
                                                <option value="">Niveau requis</option>
                                                <option value="débutant">Débutant</option>
                                                <option value="intermédiaire">Intermédiaire</option>
                                                <option value="avancé">Avancé</option>
                                                <option value="expert">Expert</option>
                                            </select>
                                        </div>
                                        <div style="margin-left: 1rem;">
                                            <button type="button" class="remove-skill" style="background: none; border: none; color: #ef4444; cursor: pointer;">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <button type="button" id="add-skill-btn" class="btn btn-outline" style="width: 100%; color: var(--primary); border: 1px dashed var(--primary);">
                                    <i class="fas fa-plus" style="margin-right: 0.5rem;"></i> Ajouter une compétence
                                </button>
                            </div>
                            
                            <div class="form-group">
                                <label for="recruitment-deadline" class="label-required">Délai de recrutement</label>
                                <select id="recruitment-deadline" required>
                                    <option value="">Sélectionnez une option</option>
                                    <option value="immediate">Immédiat</option>
                                    <option value="2-weeks">2 semaines</option>
                                    <option value="1-month">1 mois</option>
                                    <option value="2-months">2 mois</option>
                                    <option value="3-months">3 mois</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="notice-period" class="label-required">Pouvez-vous gérer un préavis ?</label>
                                <div class="radio-group">
                                    <label class="radio-item">
                                        <input type="radio" name="notice-period" value="1-month" class="custom-radio" required>
                                        <span class="radio-checkmark"></span>
                                        <span class="radio-label">Oui, 1 mois</span>
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="notice-period" value="2-months" class="custom-radio">
                                        <span class="radio-checkmark"></span>
                                        <span class="radio-label">Oui, 2 mois</span>
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="notice-period" value="3-months" class="custom-radio">
                                        <span class="radio-checkmark"></span>
                                        <span class="radio-label">Oui, 3 mois</span>
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="notice-period" value="no" class="custom-radio">
                                        <span class="radio-checkmark"></span>
                                        <span class="radio-label">Non</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="recruitment-context" class="label-required">Contexte de recrutement</label>
                                <select id="recruitment-context" required>
                                    <option value="">Sélectionnez une option</option>
                                    <option value="new-position">Création de poste</option>
                                    <option value="replacement">Remplacement</option>
                                    <option value="growth">Accroissement d'activité / Renfort</option>
                                    <option value="not-specified">Je ne souhaite pas communiquer</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="experience-required" class="label-required">Années d'expérience requises pour le poste</label>
                                <select id="experience-required" required>
                                    <option value="">Sélectionnez une option</option>
                                    <option value="junior">Profil Junior (0-2 ans)</option>
                                    <option value="2-3-years">2-3 ans</option>
                                    <option value="3-5-years">3-5 ans</option>
                                    <option value="5-10-years">5-10 ans</option>
                                    <option value="10-plus-years">10 ans et plus</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="sector-knowledge" class="label-required">La connaissance de votre secteur est-elle obligatoire ?</label>
                                <div class="radio-group">
                                    <label class="radio-item">
                                        <input type="radio" name="sector-knowledge" value="yes" class="custom-radio" required>
                                        <span class="radio-checkmark"></span>
                                        <span class="radio-label">Oui</span>
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="sector-knowledge" value="no" class="custom-radio">
                                        <span class="radio-checkmark"></span>
                                        <span class="radio-label">Non</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div id="sector-knowledge-details" style="display: none;">
                                <div class="form-group">
                                    <label for="specific-sector" class="label-required">Secteur d'activité requis</label>
                                    <select id="specific-sector" required>
                                        <option value="">Sélectionnez un secteur</option>
                                        <option value="technology">Technologie</option>
                                        <option value="finance">Finance/Banque/Assurance</option>
                                        <option value="healthcare">Santé/Pharmaceutique</option>
                                        <option value="retail">Commerce/Distribution</option>
                                        <option value="manufacturing">Industrie/Production</option>
                                        <option value="construction">BTP/Construction</option>
                                        <option value="education">Éducation/Formation</option>
                                        <option value="hospitality">Hôtellerie/Restauration/Tourisme</option>
                                        <option value="media">Médias/Communication</option>
                                        <option value="logistics">Transport/Logistique</option>
                                        <option value="consulting">Conseil/Études</option>
                                        <option value="energy">Énergie/Environnement</option>
                                        <option value="public">Secteur public/Administration</option>
                                        <option value="legal">Juridique</option>
                                        <option value="real-estate">Immobilier</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="sector-importance">Importance de cette connaissance sectorielle</label>
                                    <select id="sector-importance" class="form-control">
                                        <option value="1">Critère absolu (éliminatoire)</option>
                                        <option value="2">Très important (forte priorité)</option>
                                        <option value="3" selected>Important (préférable)</option>
                                        <option value="4">Souhaitable (mais non déterminant)</option>
                                        <option value="5">Peu important (formation possible)</option>
                                    </select>
                                    <small style="color: var(--text); display: block; margin-top: 0.3rem;">Cette information aidera notre IA à mieux prioriser les candidats</small>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="work-environment" class="label-required">Environnement de travail</label>
                                <div class="checkbox-group">
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="work-environment" value="open-space">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">Open space</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="work-environment" value="private-office">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">Bureau fermé</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="work-environment" value="flex-office">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">Flex office</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="work-environment" value="shared-space">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">Espace partagé</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="work-environment" value="remote">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">Télétravail</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="team-composition">Composition de l'équipe et rattachement interne</label>
                                <textarea id="team-composition" rows="3" placeholder="Ex: Équipe de 5 personnes, rattaché à un responsable de service. Rattaché à la direction générale..."></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="career-opportunities">Perspectives d'évolution</label>
                                <textarea id="career-opportunities" rows="3" placeholder="Décrivez les possibilités d'évolution au sein de votre entreprise..."></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="salary">Rémunération</label>
                                <input type="text" id="salary" placeholder="Ex: 45 000 € - 60 000 € / an">
                            </div>
                            
                            <div class="form-group">
                                <label for="benefits">Avantages</label>
                                <div class="checkbox-group">
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="benefits" value="remote-work">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">Télétravail</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="benefits" value="rtt">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">RTT</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="benefits" value="13th-month">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">13ème mois</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="benefits" value="profit-sharing">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">Participation/Intéressement</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="benefits" value="meal-vouchers">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">Tickets restaurant</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="benefits" value="health-insurance">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">Mutuelle</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="benefits" value="transport">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">Transport pris en charge</span>
                                    </label>
                                    <label class="checkbox-item">
                                        <input type="checkbox" class="custom-checkbox" name="benefits" value="flexible-hours">
                                        <span class="checkmark"></span>
                                        <span class="checkbox-label">Horaires flexibles</span>
                                    </label>
                                </div>
                                <input type="text" id="other-benefits" placeholder="Autres avantages..." style="margin-top: 0.5rem;">
                            </div>
                            
                            <div class="form-group">
                                <label for="contract-type" class="label-required">Type de contrat</label>
                                <div class="radio-group">
                                    <label class="radio-item">
                                        <input type="radio" name="contract-type" value="35h-non-cadre" class="custom-radio" required>
                                        <span class="radio-checkmark"></span>
                                        <span class="radio-label">35h, non-cadre</span>
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="contract-type" value="35h-cadre" class="custom-radio">
                                        <span class="radio-checkmark"></span>
                                        <span class="radio-label">35h, cadre</span>
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="contract-type" value="39h-non-cadre" class="custom-radio">
                                        <span class="radio-checkmark"></span>
                                        <span class="radio-label">39h, non-cadre</span>
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="contract-type" value="39h-cadre" class="custom-radio">
                                        <span class="radio-checkmark"></span>
                                        <span class="radio-label">39h, cadre</span>
                                    </label>
                                    <label class="radio-item">
                                        <input type="radio" name="contract-type" value="forfait-jour" class="custom-radio">
                                        <span class="radio-checkmark"></span>
                                        <span class="radio-label">Forfait jour</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-navigation">
                                <button type="button" class="nav-btn btn-prev" id="prev3"><i class="fas fa-arrow-left"></i> Précédent</button>
                                <button type="button" class="nav-btn btn-next" id="next3">Suivant <i class="fas fa-arrow-right"></i></button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Question 4: Résumé et validation -->
                    <div class="question-container" id="question4">
                        <div class="question-header">
                            <h3 class="question-title">Récapitulatif de vos informations</h3>
                            <p class="question-description">Vérifiez les informations que vous avez fournies avant de finaliser.</p>
                        </div>
                        
                        <div class="summary-section">
                            <div class="summary-block">
                                <h4 class="summary-title"><i class="fas fa-building"></i> Informations sur votre structure</h4>
                                <div class="summary-item">
                                    <div class="summary-label">Nom :</div>
                                    <div class="summary-value" id="summary-company-name"></div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">Adresse :</div>
                                    <div class="summary-value" id="summary-company-address"></div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">Site web :</div>
                                    <div class="summary-value" id="summary-company-website"></div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">Présentation :</div>
                                    <div class="summary-value" id="summary-company-description"></div>
                                </div>
                                <div class="summary-item">
                                    <div class="summary-label">Taille :</div>
                                    <div class="summary-value" id="summary-company-size"></div>
                                </div>
                            </div>
                            
                            <div id="summary-position-details">
                                <div class="summary-block">
                                    <h4 class="summary-title"><i class="fas fa-briefcase"></i> Informations sur le poste</h4>
                                    <div class="summary-item">
                                        <div class="summary-label">Titre du poste :</div>
                                        <div class="summary-value" id="summary-job-title"></div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-label">Délai de recrutement :</div>
                                        <div class="summary-value" id="summary-recruitment-deadline"></div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-label">Préavis :</div>
                                        <div class="summary-value" id="summary-notice-period"></div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-label">Contexte :</div>
                                        <div class="summary-value" id="summary-recruitment-context"></div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-label">Expérience requise :</div>
                                        <div class="summary-value" id="summary-experience-required"></div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-label">Connaissance du secteur :</div>
                                        <div class="summary-value" id="summary-sector-knowledge"></div>
                                    </div>
                                    <div class="summary-item" id="summary-specific-sector-container" style="display: none;">
                                        <div class="summary-label">Secteur requis :</div>
                                        <div class="summary-value" id="summary-specific-sector"></div>
                                    </div>
                                </div>
                                
                                <div class="summary-block">
                                    <h4 class="summary-title"><i class="fas fa-users"></i> Environnement et conditions</h4>
                                    <div class="summary-item">
                                        <div class="summary-label">Environnement :</div>
                                        <div class="summary-value" id="summary-work-environment"></div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-label">Équipe :</div>
                                        <div class="summary-value" id="summary-team-composition"></div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-label">Évolution :</div>
                                        <div class="summary-value" id="summary-career-opportunities"></div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-label">Rémunération :</div>
                                        <div class="summary-value" id="summary-salary"></div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-label">Avantages :</div>
                                        <div class="summary-value" id="summary-benefits"></div>
                                    </div>
                                    <div class="summary-item">
                                        <div class="summary-label">Type de contrat :</div>
                                        <div class="summary-value" id="summary-contract-type"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-navigation">
                            <button type="button" class="nav-btn btn-prev" id="prev4"><i class="fas fa-arrow-left"></i> Précédent</button>
                            <button type="submit" class="nav-btn btn-submit">Terminer <i class="fas fa-check"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Boîte de dialogue de confirmation -->
    <div class="confirmation-dialog" id="confirmation-dialog">
        <div class="confirmation-content">
            <div class="confirmation-icon">
                <i class="fas fa-info-circle"></i>
            </div>
            <h3 class="confirmation-title">Redirection vers l'accueil</h3>
            <p class="confirmation-text">Vous avez indiqué ne pas avoir de poste à pourvoir. Vous allez être redirigé vers la page d'accueil où vous pourrez explorer les profils disponibles.</p>
            <div class="confirmation-buttons">
                <button class="confirmation-btn btn-cancel" id="cancel-redirect">Annuler</button>
                <button class="confirmation-btn btn-confirm" id="confirm-redirect">Continuer</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2025 Nexten - Tous droits réservés</p>
        </div>
    </footer>

    <!-- Inclure les bibliothèques de parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.19/mammoth.browser.min.js"></script>
    
    <script>
        // Configuration de PDF.js
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.worker.min.js';
        
        // Fonction pour initialiser l'autocomplete Google Maps Places
        function initAutocomplete() {
            // Autocomplete pour l'adresse de l'entreprise
            const addressInput = document.getElementById('company-address');
            if (addressInput) {
                const autocomplete = new google.maps.places.Autocomplete(addressInput, {
                    types: ['address'],
                    componentRestrictions: { country: ['fr'] }  // Limiter aux adresses françaises
                });
                
                // Enregistrer l'adresse complète lorsqu'un lieu est sélectionné
                autocomplete.addListener('place_changed', function() {
                    const place = autocomplete.getPlace();
                    if (!place.geometry) {
                        // L'utilisateur a appuyé sur entrée sans sélectionner de suggestion
                        return;
                    }
                    
                    // Sauvegarder les coordonnées et l'adresse formatée pour une utilisation ultérieure
                    const formattedAddress = place.formatted_address;
                    const lat = place.geometry.location.lat();
                    const lng = place.geometry.location.lng();
                    
                    // Stocker les données de géolocalisation dans des attributs de données
                    addressInput.dataset.formattedAddress = formattedAddress;
                    addressInput.dataset.lat = lat;
                    addressInput.dataset.lng = lng;
                    
                    console.log('Adresse sélectionnée:', formattedAddress);
                    console.log('Coordonnées:', lat, lng);
                });
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // Références aux éléments
            const recruiterForm = document.getElementById('recruiter-form');
            const stepper = document.querySelector('.stepper');
            const steps = document.querySelectorAll('.step');
            const questionContainers = document.querySelectorAll('.question-container');
            
            // Récupérer les données de l'entreprise depuis localStorage si disponibles
            const companyDataString = localStorage.getItem('recruiterCompanyData');
            let companyData = null;
            
            if (companyDataString) {
                try {
                    companyData = JSON.parse(companyDataString);
                    console.log('Données de l\'entreprise récupérées:', companyData);
                    
                    // Pré-remplir les champs du formulaire
                    if (companyData.dataFromPostJob) {
                        prefillCompanyInfo(companyData);
                    }
                } catch (error) {
                    console.error('Erreur lors de la récupération des données de l\'entreprise:', error);
                }
            }
            
            // Récupérer les données de la fiche de poste si disponibles
            const jobDescriptionDataString = localStorage.getItem('jobDescriptionData');
            let jobDescriptionData = null;
            
            if (jobDescriptionDataString) {
                try {
                    jobDescriptionData = JSON.parse(jobDescriptionDataString);
                    console.log('Données de la fiche de poste récupérées:', jobDescriptionData);
                } catch (error) {
                    console.error('Erreur lors de la récupération des données de la fiche de poste:', error);
                }
            }
            
            // Fonction pour pré-remplir les informations de l'entreprise
            function prefillCompanyInfo(data) {
                if (!data) return;
                
                // Pré-remplir les champs correspondants
                const companyNameInput = document.getElementById('company-name');
                if (companyNameInput && data.name) {
                    companyNameInput.value = data.name;
                }
                
                const companyAddressInput = document.getElementById('company-address');
                if (companyAddressInput && data.address) {
                    companyAddressInput.value = data.address;
                }
                
                const companyWebsiteInput = document.getElementById('company-website');
                if (companyWebsiteInput && data.website) {
                    companyWebsiteInput.value = data.website;
                }
                
                const companyDescriptionInput = document.getElementById('company-description');
                if (companyDescriptionInput && data.description) {
                    companyDescriptionInput.value = data.description;
                }
            }
            
            // Boutons de navigation et éléments du formulaire
            const next1Btn = document.getElementById('next1');
            const next2Btn = document.getElementById('next2');
            const next3Btn = document.getElementById('next3');
            const prev2Btn = document.getElementById('prev2');
            const prev3Btn = document.getElementById('prev3');
            const prev4Btn = document.getElementById('prev4');
            
            // S'assurer que les éléments du formulaire sont bien définis
            const companyWebsiteInput = document.getElementById('company-website');
            const companyDescriptionInput = document.getElementById('company-description');
            const generateDescriptionBtn = document.getElementById('generate-description');
            
            // Éléments conditionnels
            const hasPositionRadios = document.getElementsByName('has-position');
            const jobDescriptionParser = document.getElementById('job-description-parser');
            const positionDetails = document.getElementById('position-details');
            const summaryPositionDetails = document.getElementById('summary-position-details');
            
            // Dialogue de confirmation
            const confirmationDialog = document.getElementById('confirmation-dialog');
            const cancelRedirectBtn = document.getElementById('cancel-redirect');
            const confirmRedirectBtn = document.getElementById('confirm-redirect');
            
            // Éléments du parser de fiche de poste
            const uploadArea = document.getElementById('upload-area');
            const jobDescriptionFile = document.getElementById('job-description-file');
            const fileInfo = document.getElementById('file-info');
            const fileName = document.getElementById('file-name');
            const parsingProgress = document.getElementById('parsing-progress');
            const parsingProgressFill = document.getElementById('parsing-progress-fill');
            const parsedContainer = document.getElementById('parsed-container');
            const useParsedDataBtn = document.getElementById('use-parsed-data');
            const manualEntryBtn = document.getElementById('manual-entry');
            
            // Champs du formulaire de détails du poste
            const jobTitleInput = document.getElementById('job-title');
            
            // Éléments secteur requis
            const sectorKnowledgeRadios = document.getElementsByName('sector-knowledge');
            const sectorKnowledgeDetails = document.getElementById('sector-knowledge-details');
            const summarySectorContainer = document.getElementById('summary-specific-sector-container');
            
            // Élément de génération d'une description
            const generateDescriptionBtn = document.getElementById('generate-description');
            const companyWebsiteInput = document.getElementById('company-website');
            const companyDescriptionInput = document.getElementById('company-description');
            
            // Fonction pour naviguer entre les questions
            function navigateToQuestion(currentIndex, targetIndex) {
                // Vérification de la validité du formulaire pour la section actuelle
                const currentContainer = questionContainers[currentIndex - 1];
                let isValid = true;
                
                // Si nous sommes sur la première page et que nous allons à la suivante
                if (currentIndex === 1 && targetIndex === 2) {
                    const requiredInputs = currentContainer.querySelectorAll('input[required]:not([type="radio"]), select[required], textarea[required]');
                    const hasPosition = document.querySelector('input[name="has-position"]:checked');
                    
                    // Vérifier les inputs classiques
                    requiredInputs.forEach(input => {
                        if (!input.value.trim()) {
                            isValid = false;
                            input.style.borderColor = '#e53e3e';
                        } else {
                            input.style.borderColor = '#e2e8f0';
                        }
                    });
                    
                    // Vérifier si un choix a été fait pour "Avez-vous un poste sur lequel vous souhaitez recruter ?"
                    if (!hasPosition) {
                        isValid = false;
                        document.querySelectorAll('input[name="has-position"]').forEach(radio => {
                            radio.closest('.radio-item').style.borderColor = '#e53e3e';
                        });
                    } else {
                        document.querySelectorAll('input[name="has-position"]').forEach(radio => {
                            radio.closest('.radio-item').style.borderColor = '#e2e8f0';
                        });
                        
                        // Si l'utilisateur a choisi "Non", afficher la boîte de dialogue de confirmation
                        if (hasPosition.value === 'no') {
                            confirmationDialog.classList.add('active');
                            return; // Arrêter la navigation
                        }
                    }
                    
                    if (!isValid) {
                        alert('Veuillez remplir tous les champs obligatoires avant de continuer.');
                        return;
                    }
                }
                
                // Mise à jour des classes actives
                questionContainers.forEach(container => container.classList.remove('active'));
                questionContainers[targetIndex - 1].classList.add('active');
                
                // Mise à jour du stepper
                stepper.className = `stepper step${targetIndex}`;
                
                steps.forEach((step, index) => {
                    step.classList.remove('active', 'completed');
                    
                    if (index + 1 === targetIndex) {
                        step.classList.add('active');
                    } else if (index + 1 < targetIndex) {
                        step.classList.add('completed');
                        step.querySelector('.step-circle').innerHTML = '<i class="fas fa-check"></i>';
                    } else {
                        step.querySelector('.step-circle').textContent = index + 1;
                    }
                });
                
                // Si nous allons au résumé, mettons à jour les valeurs
                if (targetIndex === 4) {
                    updateSummary();
                }
                
                // Animation de transition
                questionContainers[targetIndex - 1].style.opacity = '0';
                setTimeout(() => {
                    questionContainers[targetIndex - 1].style.opacity = '1';
                }, 50);
                
                // Scroll en haut du formulaire
                questionContainers[targetIndex - 1].scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
            
            // Gérer les choix dans le dialogue de confirmation
            cancelRedirectBtn.addEventListener('click', function() {
                confirmationDialog.classList.remove('active');
            });
            
            confirmRedirectBtn.addEventListener('click', function() {
                // Rediriger vers la page d'accueil
                window.location.href = 'index.html';
            });
            
            // Gérer le téléchargement de fichier et le parsing
            uploadArea.addEventListener('click', function() {
                jobDescriptionFile.click();
            });
            
            jobDescriptionFile.addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    const file = e.target.files[0];
                    fileName.textContent = file.name;
                    fileInfo.style.display = 'block';
                    
                    // Simuler le parsing
                    simulateParsing();
                }
            });
            
            async function simulateParsing() {
                const file = jobDescriptionFile.files[0];
                if (!file) {
                    alert("Veuillez d'abord sélectionner un fichier.");
                    return;
                }
                
                // Afficher la barre de progression
                parsingProgress.style.display = 'block';
                parsedContainer.style.display = 'none';
                parsingProgressFill.style.width = '0%';
                
                try {
                    // Extraire le texte du fichier selon son type
                    let jobText = '';
                    let progress = 10;
                    
                    // Mise à jour visuelle de la progression
                    parsingProgressFill.style.width = progress + '%';
                    
                    if (file.type === 'application/pdf') {
                        // Parsing PDF
                        jobText = await parsePdfFile(file, (currentProgress) => {
                            progress = 10 + currentProgress * 0.5; // 10% à 60%
                            parsingProgressFill.style.width = progress + '%';
                        });
                    } else if (file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' || 
                              file.name.endsWith('.docx')) {
                        // Parsing DOCX
                        jobText = await parseDocxFile(file, (currentProgress) => {
                            progress = 10 + currentProgress * 0.5; // 10% à 60%
                            parsingProgressFill.style.width = progress + '%';
                        });
                    } else if (file.type === 'application/msword' || file.name.endsWith('.doc')) {
                        // Message pour fichiers DOC (conversion limitée)
                        alert('Les fichiers .doc anciens peuvent ne pas être correctement analysés. Nous recommandons le format PDF ou DOCX.');
                        // Tenter de lire comme du texte
                        jobText = await parseTextFile(file, (currentProgress) => {
                            progress = 10 + currentProgress * 0.5;
                            parsingProgressFill.style.width = progress + '%';
                        });
                    } else if (file.type === 'text/plain') {
                        // Parsing fichier texte
                        jobText = await parseTextFile(file, (currentProgress) => {
                            progress = 10 + currentProgress * 0.5;
                            parsingProgressFill.style.width = progress + '%';
                        });
                    } else {
                        throw new Error('Format de fichier non pris en charge. Utilisez PDF, DOCX ou TXT.');
                    }
                    
                    // Analyse du texte extrait
                    progress = 70;
                    parsingProgressFill.style.width = progress + '%';
                    
                    // Analyse de la fiche de poste
                    const extractedData = await analyzeJobDescription(jobText);
                    
                    // Mise à jour finale de la progression
                    progress = 100;
                    parsingProgressFill.style.width = progress + '%';
                    
                    // Afficher les résultats d'analyse
                    setTimeout(() => {
                        // Mettre à jour l'interface avec les données extraites
                        updateParsedDisplay(extractedData);
                        
                        // Cacher la progression et afficher les résultats
                        parsingProgress.style.display = 'none';
                        parsedContainer.style.display = 'block';
                        
                        // Sauvegarder les données parsées
                        saveJobDescriptionData(extractedData);
                    }, 500);
                    
                } catch (error) {
                    console.error('Erreur lors du parsing du fichier:', error);
                    alert('Erreur lors de l\'analyse du fichier: ' + error.message);
                    
                    // Réinitialiser l'interface en cas d'erreur
                    parsingProgress.style.display = 'none';
                }
            }
            
            // Parsers pour différents types de fichiers
            async function parsePdfFile(file, progressCallback) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = async function(event) {
                        try {
                            const typedArray = new Uint8Array(event.target.result);
                            progressCallback(20);
                            
                            // Utiliser PDF.js pour extraire le texte
                            const pdf = await pdfjsLib.getDocument({data: typedArray}).promise;
                            let fullText = '';
                            
                            // Extraire le texte de chaque page
                            for (let i = 1; i <= pdf.numPages; i++) {
                                const page = await pdf.getPage(i);
                                const textContent = await page.getTextContent();
                                const pageText = textContent.items.map(item => item.str).join(' ');
                                fullText += pageText + ' ';
                                
                                // Mise à jour de la progression
                                progressCallback(20 + (i / pdf.numPages) * 60);
                            }
                            
                            resolve(fullText);
                        } catch (error) {
                            reject(error);
                        }
                    };
                    reader.onerror = reject;
                    reader.readAsArrayBuffer(file);
                });
            }
            
            async function parseDocxFile(file, progressCallback) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        try {
                            progressCallback(30);
                            
                            // Utiliser mammoth.js pour extraire le texte des fichiers DOCX
                            mammoth.extractRawText({arrayBuffer: event.target.result})
                                .then(result => {
                                    progressCallback(80);
                                    resolve(result.value);
                                })
                                .catch(reject);
                        } catch (error) {
                            reject(error);
                        }
                    };
                    reader.onerror = reject;
                    reader.readAsArrayBuffer(file);
                });
            }
            
            async function parseTextFile(file, progressCallback) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        try {
                            progressCallback(50);
                            resolve(event.target.result);
                        } catch (error) {
                            reject(error);
                        }
                    };
                    reader.onerror = reject;
                    reader.readAsText(file);
                });
            }
            
            // Analyse de la fiche de poste avec des expressions régulières et heuristiques simples
            async function analyzeJobDescription(jobText) {
                // Conversion du texte en minuscules pour certaines analyses
                const lowerText = jobText.toLowerCase();
                
                // Structure de données pour les informations extraites
                const extractedData = {
                    title: extractJobTitle(jobText),
                    location: extractLocation(jobText),
                    contractType: extractContractType(jobText),
                    experience: extractExperience(jobText),
                    skills: extractRequiredSkills(jobText),
                    description: extractDescription(jobText)
                };
                
                return extractedData;
            }
            
            // Fonctions d'extraction par expressions régulières et heuristiques
            function extractJobTitle(text) {
                // Rechercher dans les premiers paragraphes
                const paragraphs = text.split('\n').slice(0, 10);
                const titleIndicators = ["poste", "recherchons", "recrutons", "à pourvoir", "offre d'emploi", "postuler"];
                
                for (const paragraph of paragraphs) {
                    for (const indicator of titleIndicators) {
                        if (paragraph.toLowerCase().includes(indicator)) {
                            return paragraph.trim();
                        }
                    }
                }
                
                // Alternatives: rechercher des motifs de titre communs
                const commonTitles = [
                    "développeur", "analyste", "chef de projet", "ingénieur", "consultant", 
                    "directeur", "technicien", "responsable", "manager"
                ];
                
                for (const title of commonTitles) {
                    const regex = new RegExp(`([^.!?;:]*${title}[^.!?;:]*\\.?)`, 'i');
                    const match = text.match(regex);
                    if (match) {
                        return match[1].trim();
                    }
                }
                
                return "Développeur Frontend Senior"; // Valeur par défaut si non détecté
            }
            
            function extractLocation(text) {
                const lowerText = text.toLowerCase();
                
                // Liste des grandes villes françaises pour recherche
                const cities = ["paris", "marseille", "lyon", "toulouse", "nice", "nantes", 
                            "strasbourg", "montpellier", "bordeaux", "lille", "rennes", "reims"];
                
                // Recherche contextuelle de lieux de travail
                const locationIndicators = ["lieu", "localisation", "emplacement", "site", "basé à", "basée à"];
                
                for (const indicator of locationIndicators) {
                    const index = lowerText.indexOf(indicator);
                    if (index !== -1) {
                        const context = text.substring(index, index + 100);
                        const cityMatch = context.match(/[A-Z][a-zé]+([-\s][A-Z][a-zé]+)*/);
                        if (cityMatch) {
                            return cityMatch[0].trim();
                        }
                    }
                }
                
                // Recherche simple basée sur les grandes villes
                for (const city of cities) {
                    if (lowerText.includes(city)) {
                        return city.charAt(0).toUpperCase() + city.slice(1);
                    }
                }
                
                return "Paris, France"; // Valeur par défaut
            }
            
            function extractContractType(text) {
                const lowerText = text.toLowerCase();
                
                // Rechercher des types de contrats courants
                const contractTypes = [
                    { regex: /cdi|contrat à durée indéterminée/i, type: "CDI" },
                    { regex: /cdd|contrat à durée déterminée/i, type: "CDD" },
                    { regex: /stage/i, type: "Stage" },
                    { regex: /alternance|apprentissage/i, type: "Alternance" },
                    { regex: /freelance|indépendant/i, type: "Freelance" },
                    { regex: /intérim/i, type: "Intérim" }
                ];
                
                for (const contract of contractTypes) {
                    if (contract.regex.test(lowerText)) {
                        return contract.type;
                    }
                }
                
                return "CDI"; // Valeur par défaut
            }
            
            function extractExperience(text) {
                const lowerText = text.toLowerCase();
                
                // Rechercher des patterns d'expérience spécifiques
                const experiencePatterns = [
                    { regex: /minimum\s+(\d+\s*-\s*\d+|\d+)\s+(ans|années|an)/i, group: 1 },
                    { regex: /(\d+\s*-\s*\d+|\d+)\s+(ans|années|an)\s+d['']expérience/i, group: 1 },
                    { regex: /expérience\s+(\d+\s*-\s*\d+|\d+)\s+(ans|années|an)/i, group: 1 },
                    { regex: /profil\s+junior/i, value: "0-2 ans" },
                    { regex: /profil\s+confirmé/i, value: "3-5 ans" },
                    { regex: /profil\s+senior/i, value: "5+ ans" }
                ];
                
                for (const pattern of experiencePatterns) {
                    const match = lowerText.match(pattern.regex);
                    if (match) {
                        return pattern.group ? match[pattern.group] + " ans" : pattern.value;
                    }
                }
                
                return "3-5 ans"; // Valeur par défaut
            }
            
            function extractRequiredSkills(text) {
                const lowerText = text.toLowerCase();
                
                // Liste de compétences techniques courantes
                const technicalSkills = [
                    "javascript", "react", "angular", "vue", "node.js", "express", "html5", "css3",
                    "php", "python", "django", "flask", "java", "spring", "c#", ".net", "ruby",
                    "rails", "sql", "mysql", "postgresql", "mongodb", "nosql", "aws", "azure", 
                    "docker", "kubernetes", "git", "github", "devops", "ci/cd", "linux", "unix",
                    "typescript", "rest api", "graphql", "redux", "sass", "less", "webpack", "babel"
                ];
                
                // Rechercher les compétences dans le contexte approprié
                const skillContexts = [
                    { startMarker: /comp[ée]tences|skills|requis|required|profil|maitrise/i },
                    { startMarker: /vous\s+(poss[ée]dez|maitrisez|connaissez)/i }
                ];
                
                const foundSkills = new Set();
                
                // Rechercher des compétences dans des contextes spécifiques d'abord
                for (const context of skillContexts) {
                    const startIndex = lowerText.search(context.startMarker);
                    if (startIndex !== -1) {
                        const contextSection = lowerText.substring(startIndex, startIndex + 500);
                        for (const skill of technicalSkills) {
                            if (contextSection.includes(skill)) {
                                foundSkills.add(skill.charAt(0).toUpperCase() + skill.slice(1));
                            }
                        }
                    }
                }
                
                // Si aucune compétence n'a été trouvée dans les contextes, rechercher dans tout le texte
                if (foundSkills.size === 0) {
                    for (const skill of technicalSkills) {
                        if (lowerText.includes(skill)) {
                            foundSkills.add(skill.charAt(0).toUpperCase() + skill.slice(1));
                        }
                    }
                }
                
                // Limiter à un maximum de 5 compétences
                return Array.from(foundSkills).slice(0, 5).length > 0 ? 
                       Array.from(foundSkills).slice(0, 5) : 
                       ["JavaScript", "React", "TypeScript", "HTML/CSS", "Git"];
            }
            
            function extractDescription(text) {
                // Si le texte est très long, limiter à la première partie significative
                if (text.length > 500) {
                    const firstParagraphs = text.split('\n').filter(p => p.trim().length > 0).slice(0, 3).join('\n\n');
                    if (firstParagraphs.length > 200) {
                        return firstParagraphs;
                    }
                    return text.substring(0, 500) + '...';
                }
                return text;
            }
            
            // Mettre à jour l'affichage avec les données extraites
            function updateParsedDisplay(data) {
                // Mettre à jour les champs d'information
                document.getElementById('parsed-title').textContent = data.title;
                document.getElementById('parsed-location').textContent = data.location;
                document.getElementById('parsed-contract-type').textContent = data.contractType;
                document.getElementById('parsed-experience').textContent = data.experience;
                
                // Mettre à jour les compétences
                const skillsContainer = document.getElementById('parsed-skills');
                skillsContainer.innerHTML = '';
                
                data.skills.forEach(skill => {
                    const skillTag = document.createElement('span');
                    skillTag.className = 'summary-tag';
                    skillTag.textContent = skill;
                    skillsContainer.appendChild(skillTag);
                });
                
                // Mettre à jour la description
                document.getElementById('parsed-description').textContent = data.description;
            }
            
            // Fonction pour sauvegarder les données de la fiche de poste
            function saveJobDescriptionData(extractedData) {
                // Si les données parsées sont fournies, les utiliser
                // Sinon, récupérer les valeurs affichées dans l'interface
                const jobData = extractedData || {
                    title: document.getElementById('parsed-title').textContent,
                    location: document.getElementById('parsed-location').textContent,
                    contractType: document.getElementById('parsed-contract-type').textContent,
                    experience: document.getElementById('parsed-experience').textContent,
                    skills: Array.from(document.querySelectorAll('#parsed-skills .summary-tag')).map(tag => tag.textContent),
                    description: document.getElementById('parsed-description').textContent,
                    parsedFromJobDescription: true,
                    timestamp: new Date().toISOString()
                };
                
                // Sauvegarder dans localStorage
                localStorage.setItem('jobDescriptionData', JSON.stringify(jobData));
                console.log('Job description data saved to localStorage:', jobData);
            }
            
            // Utiliser les données parsées
            useParsedDataBtn.addEventListener('click', function() {
                try {
                    // Récupérer les données sauvegardées
                    const jobData = JSON.parse(localStorage.getItem('jobDescriptionData'));
                    
                    if (jobData) {
                        // Remplir les champs avec les données parsées
                        jobTitleInput.value = jobData.title || document.getElementById('parsed-title').textContent;
                        
                        // Sélectionner la valeur d'expérience appropriée si disponible
                        if (jobData.experience) {
                            const experienceRequired = document.getElementById('experience-required');
                            const experienceValue = mapExperienceToSelectValue(jobData.experience);
                            if (experienceValue && experienceRequired) {
                                experienceRequired.value = experienceValue;
                            }
                        }
                        
                        // Si un type de contrat est défini, essayer de sélectionner l'option correspondante
                        if (jobData.contractType) {
                            selectContractTypeFromJobDescription(jobData.contractType);
                        }
                    } else {
                        // Fallback si les données ne sont pas disponibles dans localStorage
                        jobTitleInput.value = document.getElementById('parsed-title').textContent;
                    }
                } catch (error) {
                    console.error('Erreur lors de l\'utilisation des données parsées:', error);
                    jobTitleInput.value = document.getElementById('parsed-title').textContent;
                }
                
                // Passer à l'étape suivante
                navigateToQuestion(2, 3);
            });
            
            // Fonction pour mapper l'expérience à une valeur de select
            function mapExperienceToSelectValue(experienceText) {
                experienceText = experienceText.toLowerCase();
                if (experienceText.includes('0-2') || experienceText.includes('junior')) {
                    return 'junior';
                } else if (experienceText.includes('2-3')) {
                    return '2-3-years';
                } else if (experienceText.includes('3-5')) {
                    return '3-5-years';
                } else if (experienceText.includes('5-10')) {
                    return '5-10-years';
                } else if (experienceText.includes('10+') || experienceText.includes('10 ans et plus')) {
                    return '10-plus-years';
                }
                return null;
            }
            
            // Fonction pour sélectionner le type de contrat approprié
            function selectContractTypeFromJobDescription(contractTypeText) {
                contractTypeText = contractTypeText.toLowerCase();
                const contractTypeRadios = document.getElementsByName('contract-type');
                
                if (contractTypeText.includes('cdi') && contractTypeText.includes('cadre')) {
                    for (const radio of contractTypeRadios) {
                        if (radio.value === '35h-cadre' || radio.value === '39h-cadre' || radio.value === 'forfait-jour') {
                            radio.checked = true;
                            break;
                        }
                    }
                } else if (contractTypeText.includes('cdi') && !contractTypeText.includes('cadre')) {
                    for (const radio of contractTypeRadios) {
                        if (radio.value === '35h-non-cadre' || radio.value === '39h-non-cadre') {
                            radio.checked = true;
                            break;
                        }
                    }
                }
            }
            
            // Saisie manuelle
            manualEntryBtn.addEventListener('click', function() {
                // Simplement passer à l'étape suivante sans remplir les champs
                navigateToQuestion(2, 3);
            });
            
            // Gérer l'affichage conditionnel des détails du secteur requis
            sectorKnowledgeRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'yes') {
                        sectorKnowledgeDetails.style.display = 'block';
                    } else {
                        sectorKnowledgeDetails.style.display = 'none';
                    }
                });
            });
            
            // Génération de description d'entreprise basée sur le site web avec simulation d'appel à OpenAI
            generateDescriptionBtn.addEventListener('click', function() {
                const website = companyWebsiteInput.value.trim();
                if (!website) {
                    alert('Veuillez entrer l\'URL de votre site web pour générer une description.');
                    return;
                }
                
                // Simuler un chargement
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Génération avec IA en cours...';
                this.style.pointerEvents = 'none';
                
                // Extraire le domaine pour la recherche
                const domain = website.replace(/^https?:\/\//, '').replace(/^www\./, '').split('/')[0];
                
                // Simuler un appel à OpenAI
                simulateOpenAIRequest(domain, this);
            });
            
            // Simulation d'une requête à OpenAI
            function simulateOpenAIRequest(domain, button) {
                console.log('Simulation d\'un appel à OpenAI pour le domaine:', domain);
                
                // Simuler des étapes de traitement pour une expérience plus réaliste
                const processingSteps = [
                    'Analyse du domaine...',
                    'Recherche d\'informations...',
                    'Génération du contenu avec OpenAI...',
                    'Finalisation de la description...'
                ];
                
                let currentStep = 0;
                
                // Afficher les étapes de traitement successivement
                const processingInterval = setInterval(() => {
                    if (currentStep < processingSteps.length) {
                        button.innerHTML = `<i class="fas fa-spinner fa-spin"></i> ${processingSteps[currentStep]}`;
                        currentStep++;
                    } else {
                        clearInterval(processingInterval);
                        generateAIDescription(domain, button);
                    }
                }, 800);
            }
            
            // Génération de la description avec "OpenAI"
            function generateAIDescription(domain, button) {
                // Définir différentes descriptions possibles selon le domaine
                const descriptions = {
                    'example.com': `TechSolutions est une entreprise innovante spécialisée dans le développement de solutions logicielles pour les entreprises. Fondée en 2015, elle compte aujourd'hui plus de 50 collaborateurs passionnés par la technologie et l'innovation. Avec une approche centrée sur le client, TechSolutions s'efforce de fournir des solutions sur mesure qui répondent parfaitement aux besoins spécifiques de chaque client.`,
                    
                    'google.com': `Google est une entreprise technologique mondiale qui développe des produits et services liés à Internet, notamment des technologies de recherche, de cloud computing, de logiciels et de matériel. Fondée en 1998 par Larry Page et Sergey Brin, Google a pour mission d'organiser l'information à l'échelle mondiale et de la rendre universellement accessible et utile. Avec plus de 135 000 employés répartis dans le monde entier, l'entreprise est connue pour sa culture d'innovation, sa créativité et son engagement en faveur de l'excellence technique.`,
                    
                    'microsoft.com': `Microsoft est une entreprise technologique multinationale qui développe, fabrique, licencie et vend des logiciels informatiques, des produits électroniques, des ordinateurs et des services personnels. Fondée en 1975 par Bill Gates et Paul Allen, Microsoft s'est donné pour mission d'aider chaque personne et chaque organisation sur la planète à accomplir davantage. Avec une forte présence dans le cloud computing, les systèmes d'exploitation et les solutions d'entreprise, Microsoft est reconnue pour son engagement envers l'innovation et la transformation numérique.`,
                    
                    'apple.com': `Apple est une entreprise technologique américaine qui conçoit, développe et vend des produits électroniques grand public, des logiciels informatiques et des services en ligne. Fondée en 1976 par Steve Jobs, Steve Wozniak et Ronald Wayne, Apple est connue pour ses produits innovants comme l'iPhone, l'iPad, le Mac et l'Apple Watch. L'entreprise se distingue par son engagement envers le design, la simplicité d'utilisation et l'intégration harmonieuse entre matériel et logiciel. Avec une forte culture d'excellence et d'innovation, Apple vise à créer des produits qui enrichissent la vie de ses clients.`
                };
                
                // Rechercher une correspondance exacte
                let description = descriptions[domain];
                
                // Si pas de correspondance exacte, générer une description générique
                if (!description) {
                    // Créer une description basée sur le secteur
                    let sector = getSectorFromDomain(domain);
                    let innovation = getRandomInnovationText();
                    let culture = getRandomCultureText();
                    let year = 2010 + Math.floor(Math.random() * 10); // Année aléatoire entre 2010 et 2019
                    
                    description = `${domain.split('.')[0].charAt(0).toUpperCase() + domain.split('.')[0].slice(1)} est une entreprise ${sector} dynamique qui se distingue par ${innovation}. Fondée en ${year}, l'entreprise a développé une expertise reconnue dans son domaine et continue d'élargir son offre pour répondre aux besoins évolutifs du marché. ${culture} Avec une vision orientée vers l'avenir, l'entreprise s'engage à fournir des produits et services de qualité supérieure tout en maintenant une forte responsabilité envers ses clients, ses employés et la société.`;
                }
                
                // Mettre à jour le champ de description
                companyDescriptionInput.value = description;
                
                // Effet de saisie progressive pour un rendu plus naturel
                animateTypingEffect(companyDescriptionInput, description);
                
                // Réinitialiser le bouton avec une animation réussie
                button.innerHTML = '<i class="fas fa-check-circle"></i> Description générée avec IA';
                button.style.backgroundColor = "#10b981";
                button.style.pointerEvents = 'auto';
                
                // Restaurer le bouton après un moment
                setTimeout(() => {
                    button.innerHTML = '<i class="fas fa-magic"></i> Générer une description';
                    button.style.backgroundColor = "";
                }, 3000);
            }
            
            // Animation d'effet de saisie
            function animateTypingEffect(element, text) {
                // Sauvegarder le texte complet
                const fullText = text;
                
                // Vider le champ
                element.value = '';
                
                // Ajouter les caractères un par un
                let i = 0;
                const typingInterval = setInterval(() => {
                    if (i < fullText.length) {
                        element.value += fullText.charAt(i);
                        i++;
                        
                        // Faire défiler pour voir le texte en cours de saisie
                        element.scrollTop = element.scrollHeight;
                    } else {
                        clearInterval(typingInterval);
                    }
                }, 5); // Vitesse de saisie
            }
            
            // Fonction pour obtenir un secteur aléatoire basé sur le domaine
            function getSectorFromDomain(domain) {
                const sectors = [
                    "technologique",
                    "de services",
                    "de conseil",
                    "spécialisée en informatique",
                    "innovante",
                    "leader dans son secteur",
                    "axée sur les solutions numériques",
                    "en pleine croissance"
                ];
                
                // Utiliser le hash du domaine pour sélectionner un secteur
                const hash = domain.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
                return sectors[hash % sectors.length];
            }
            
            // Textes d'innovation aléatoires
            function getRandomInnovationText() {
                const innovations = [
                    "son approche innovante et sa capacité à anticiper les tendances du marché",
                    "ses solutions créatives et sa vision avant-gardiste",
                    "sa maîtrise des technologies de pointe et son engagement envers l'innovation continue",
                    "son esprit d'innovation et sa recherche constante d'excellence",
                    "sa démarche d'amélioration continue et son adaptabilité face aux évolutions technologiques"
                ];
                
                return innovations[Math.floor(Math.random() * innovations.length)];
            }
            
            // Textes de culture d'entreprise aléatoires
            function getRandomCultureText() {
                const cultures = [
                    "Sa culture d'entreprise valorise la collaboration, la créativité et le développement professionnel.",
                    "Au sein de l'entreprise, l'accent est mis sur l'autonomie, l'esprit d'équipe et le bien-être des collaborateurs.",
                    "L'entreprise cultive un environnement de travail stimulant où chaque contribution est valorisée.",
                    "Avec une équipe talentueuse et passionnée, l'entreprise favorise l'innovation et le partage des connaissances.",
                    "L'entreprise se distingue par sa culture inclusive et son engagement en faveur du développement durable."
                ];
                
                return cultures[Math.floor(Math.random() * cultures.length)];
            }
            
            // Gestionnaires d'événements pour les boutons de navigation
            next1Btn.addEventListener('click', () => navigateToQuestion(1, 2));
            next2Btn.addEventListener('click', () => navigateToQuestion(2, 3));
            next3Btn.addEventListener('click', () => navigateToQuestion(3, 4));
            prev2Btn.addEventListener('click', () => navigateToQuestion(2, 1));
            prev3Btn.addEventListener('click', () => navigateToQuestion(3, 2));
            prev4Btn.addEventListener('click', () => navigateToQuestion(4, 3));
            
            // Fonction pour mettre à jour le résumé
            function updateSummary() {
                // Informations sur l'entreprise
                const companyAddressInput = document.getElementById('company-address');
                const formattedAddress = companyAddressInput.dataset.formattedAddress || companyAddressInput.value;
                
                document.getElementById('summary-company-name').textContent = document.getElementById('company-name').value || 'Non spécifié';
                document.getElementById('summary-company-address').textContent = formattedAddress || 'Non spécifié';
                document.getElementById('summary-company-website').textContent = document.getElementById('company-website').value || 'Non spécifié';
                document.getElementById('summary-company-description').textContent = document.getElementById('company-description').value || 'Non spécifié';
                
                const companySize = document.getElementById('company-size');
                document.getElementById('summary-company-size').textContent = companySize.options[companySize.selectedIndex]?.text || 'Non spécifié';
                
                // Informations sur le poste
                document.getElementById('summary-job-title').textContent = document.getElementById('job-title').value || 'Non spécifié';
                
                const recruitmentDeadline = document.getElementById('recruitment-deadline');
                document.getElementById('summary-recruitment-deadline').textContent = recruitmentDeadline.options[recruitmentDeadline.selectedIndex]?.text || 'Non spécifié';
                
                const noticePeriod = document.querySelector('input[name="notice-period"]:checked');
                let noticeText = 'Non spécifié';
                if (noticePeriod) {
                    if (noticePeriod.value === 'no') {
                        noticeText = 'Non';
                    } else if (noticePeriod.value === '1-month') {
                        noticeText = 'Oui, 1 mois';
                    } else if (noticePeriod.value === '2-months') {
                        noticeText = 'Oui, 2 mois';
                    } else if (noticePeriod.value === '3-months') {
                        noticeText = 'Oui, 3 mois';
                    }
                }
                document.getElementById('summary-notice-period').textContent = noticeText;
                
                const recruitmentContext = document.getElementById('recruitment-context');
                document.getElementById('summary-recruitment-context').textContent = recruitmentContext.options[recruitmentContext.selectedIndex]?.text || 'Non spécifié';
                
                const experienceRequired = document.getElementById('experience-required');
                document.getElementById('summary-experience-required').textContent = experienceRequired.options[experienceRequired.selectedIndex]?.text || 'Non spécifié';
                
                const sectorKnowledge = document.querySelector('input[name="sector-knowledge"]:checked')?.value;
                document.getElementById('summary-sector-knowledge').textContent = sectorKnowledge === 'yes' ? 'Oui' : 'Non';
                
                if (sectorKnowledge === 'yes') {
                    summarySectorContainer.style.display = 'flex';
                    const specificSector = document.getElementById('specific-sector');
                    document.getElementById('summary-specific-sector').textContent = specificSector.options[specificSector.selectedIndex]?.text || 'Non spécifié';
                } else {
                    summarySectorContainer.style.display = 'none';
                }
                
                // Environnement et conditions
                const workEnvironment = Array.from(document.querySelectorAll('input[name="work-environment"]:checked')).map(cb => cb.nextElementSibling.nextElementSibling.textContent);
                document.getElementById('summary-work-environment').textContent = workEnvironment.join(', ') || 'Non spécifié';
                
                document.getElementById('summary-team-composition').textContent = document.getElementById('team-composition').value || 'Non spécifié';
                document.getElementById('summary-career-opportunities').textContent = document.getElementById('career-opportunities').value || 'Non spécifié';
                document.getElementById('summary-salary').textContent = document.getElementById('salary').value || 'Non spécifié';
                
                const benefits = Array.from(document.querySelectorAll('input[name="benefits"]:checked')).map(cb => cb.nextElementSibling.nextElementSibling.textContent);
                const otherBenefits = document.getElementById('other-benefits').value;
                if (otherBenefits) benefits.push(otherBenefits);
                document.getElementById('summary-benefits').textContent = benefits.join(', ') || 'Non spécifié';
                
                const contractType = document.querySelector('input[name="contract-type"]:checked');
                let contractText = 'Non spécifié';
                if (contractType) {
                    if (contractType.value === '35h-non-cadre') {
                        contractText = '35h, non-cadre';
                    } else if (contractType.value === '35h-cadre') {
                        contractText = '35h, cadre';
                    } else if (contractType.value === '39h-non-cadre') {
                        contractText = '39h, non-cadre';
                    } else if (contractType.value === '39h-cadre') {
                        contractText = '39h, cadre';
                    } else if (contractType.value === 'forfait-jour') {
                        contractText = 'Forfait jour';
                    }
                }
                document.getElementById('summary-contract-type').textContent = contractText;
            }
            
            // Soumission du formulaire
            recruiterForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Récupérer les données d'adresse et de géolocalisation
                const companyAddressInput = document.getElementById('company-address');
                const companyName = document.getElementById('company-name').value;
                const companyAddress = companyAddressInput.value;
                const formattedAddress = companyAddressInput.dataset.formattedAddress || companyAddress;
                const lat = companyAddressInput.dataset.lat;
                const lng = companyAddressInput.dataset.lng;
                
                // Récupérer les autres données du formulaire
                const companyWebsite = document.getElementById('company-website').value;
                const companyDescription = document.getElementById('company-description').value;
                const jobTitle = document.getElementById('job-title').value;
                
                // Récupérer les compétences techniques requises
                const technicalSkills = [];
                const skillItems = document.querySelectorAll('.skill-item');
                skillItems.forEach(item => {
                    const name = item.querySelector('.skill-name')?.value.trim();
                    const level = item.querySelector('.skill-level')?.value;
                    
                    if (name) {
                        technicalSkills.push({
                            name: name,
                            level: level || 'intermédiaire' // Valeur par défaut si non spécifiée
                        });
                    }
                });

                // Récupérer l'importance de la connaissance sectorielle
                const sectorImportance = document.getElementById('sector-importance')?.value || '3';
                
                // Créer un objet avec toutes les données du formulaire
                const formData = {
                    company: {
                        name: companyName,
                        address: companyAddress,
                        formattedAddress: formattedAddress,
                        location: lat && lng ? { lat: parseFloat(lat), lng: parseFloat(lng) } : null,
                        website: companyWebsite,
                        description: companyDescription
                    },
                    job: {
                        title: jobTitle,
                        technicalSkills: technicalSkills,
                        sectorKnowledge: {
                            required: document.querySelector('input[name="sector-knowledge"]:checked')?.value === 'yes',
                            sector: document.getElementById('specific-sector')?.value || '',
                            importance: parseInt(sectorImportance, 10)
                        }
                        // Ajouter d'autres champs si nécessaire
                    }
                };
                
                // Sauvegarder les données dans localStorage pour utilisation future
                localStorage.setItem('recruiterFormData', JSON.stringify(formData));
                console.log('Données du formulaire sauvegardées:', formData);
                
                // Simuler la soumission avec animation
                const submitBtn = document.querySelector('.btn-submit');
                submitBtn.innerHTML = '<span class="loading-spinner"></span>';
                submitBtn.disabled = true;
                
                // Ajouter des styles dynamiques pour l'animation
                const style = document.createElement('style');
                style.innerHTML = `
                    .loading-spinner {
                        display: inline-block;
                        width: 20px;
                        height: 20px;
                        border: 3px solid rgba(255,255,255,.3);
                        border-radius: 50%;
                        border-top-color: #fff;
                        animation: spin 1s ease-in-out infinite;
                    }
                    
                    @keyframes spin {
                        to { transform: rotate(360deg); }
                    }
                `;
                document.head.appendChild(style);
                
                // Simuler un délai de traitement
                setTimeout(() => {
                    // Rediriger vers la page de matching
                    window.location.href = 'recruiter-dashboard.html';
                }, 1500);
            });
            
            // Animation des éléments au chargement initial
            steps.forEach((step, index) => {
                step.style.opacity = '0';
                setTimeout(() => {
                    step.style.opacity = '1';
                }, 100 * index);
            });
        });
    </script>
</body>
</html>
